{"version":3,"sources":["components/Tree/TreeTitle.tsx"],"names":["treeTitleBehavior","getElementType","useUnhandledProps","useAccessibility","useStyles","useFluentContext","useTelemetry","Box","customPropTypes","PropTypes","React","childrenExist","createShorthandFactory","commonPropTypes","rtlTextContainer","treeTitleClassName","treeTitleSlotClassNames","indicator","TreeTitle","props","context","displayName","telemetry","setStart","setEnd","accessibility","children","className","content","design","hasSubtree","level","index","styles","treeSize","variables","selectionIndicator","disabled","selected","selectable","selectableParent","expanded","indeterminate","getA11Props","debugName","actionHandlers","performClick","e","preventDefault","stopPropagation","handleClick","performSelection","mapPropsToBehavior","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","ElementType","unhandledProps","handledProps","selectionIndicatorOverrideProps","predefinedProps","onClick","selectIndicator","create","defaultProps","as","overrideProps","element","root","getAttributes","forElements","propTypes","createCommon","bool","number","func","shorthandAllowingChildren","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, treeTitleBehavior, TreeTitleBehaviorProps } from '@fluentui/accessibility';\nimport {\n  ComponentWithAs,\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useStyles,\n  useFluentContext,\n  useTelemetry,\n} from '@fluentui/react-bindings';\nimport { Box, BoxProps } from '../Box/Box';\nimport { SupportedIntrinsicInputProps } from '../../utils/htmlPropsUtils';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  childrenExist,\n  createShorthandFactory,\n  commonPropTypes,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  rtlTextContainer,\n} from '../../utils';\nimport { ComponentEventHandler, FluentComponentStaticProps, ShorthandValue } from '../../types';\n\nexport interface TreeTitleSlotClassNames {\n  indicator: string;\n}\n\nexport interface TreeTitleProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<TreeTitleBehaviorProps>;\n\n  /** Whether or not the title has a subtree. */\n  hasSubtree?: boolean;\n\n  /** The index of the title among its siblings. Count starts at 1. */\n  index?: number;\n\n  /** Level of the tree/subtree that contains this title. */\n  level?: number;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<TreeTitleProps>;\n\n  /** Whether or not the subtree of the title is in the open state. */\n  expanded?: boolean;\n\n  /** Size of the tree containing this title without any children. */\n  treeSize?: number;\n\n  /** Whether or not tree title is part of the selectable parent. */\n  selectableParent?: boolean;\n\n  /** A selection indicator icon can be customized. */\n  selectionIndicator?: ShorthandValue<BoxProps>;\n\n  /** A selection indicator can appear disabled and be unable to change states. */\n  disabled?: SupportedIntrinsicInputProps['disabled'];\n\n  /** A state of selection indicator. */\n  selected?: boolean;\n\n  /** Whether or not tree title is selectable. */\n  selectable?: boolean;\n\n  /** For selectable parents define if all nested children are checked */\n  indeterminate?: boolean;\n}\n\nexport type TreeTitleStylesProps = Pick<\n  TreeTitleProps,\n  'selected' | 'selectable' | 'disabled' | 'selectableParent' | 'indeterminate'\n>;\n\nexport const treeTitleClassName = 'ui-tree__title';\n\nexport const treeTitleSlotClassNames = {\n  indicator: `${treeTitleClassName}__selection-indicator`,\n};\n\n/**\n * A TreeTitle renders a title of TreeItem.\n */\nexport const TreeTitle: ComponentWithAs<'a', TreeTitleProps> & FluentComponentStaticProps<TreeTitleProps> = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TreeTitle.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    children,\n    className,\n    content,\n    design,\n    hasSubtree,\n    level,\n    index,\n    styles,\n    treeSize,\n    variables,\n    selectionIndicator,\n    disabled,\n    selected,\n    selectable,\n    selectableParent,\n    expanded,\n    indeterminate,\n  } = props;\n\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: TreeTitle.displayName,\n    actionHandlers: {\n      performClick: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        handleClick(e);\n      },\n      performSelection: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        handleClick(e);\n      },\n    },\n    mapPropsToBehavior: () => ({\n      hasSubtree,\n      level,\n      index,\n      treeSize,\n      selected,\n      selectable,\n      selectableParent,\n    }),\n    rtl: context.rtl,\n  });\n  const { classes, styles: resolvedStyles } = useStyles<TreeTitleStylesProps>(TreeTitle.displayName, {\n    className: treeTitleClassName,\n    mapPropsToStyles: () => ({\n      selected,\n      selectableParent,\n      disabled,\n      selectable,\n      indeterminate,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TreeTitle.handledProps, props);\n  const handleClick = e => {\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const selectionIndicatorOverrideProps = (predefinedProps: BoxProps) => ({\n    onClick: (e: React.SyntheticEvent) => {\n      e.stopPropagation(); // otherwise onClick on title will also be executed\n      handleClick(e);\n      _.invoke(predefinedProps, 'onClick', e);\n    },\n  });\n\n  const selectIndicator = Box.create(selectionIndicator, {\n    defaultProps: () => ({\n      as: 'span',\n      selected,\n      ...(selectableParent && !_.isEmpty(selectionIndicator) && { expanded }),\n      ...getA11Props('indicator', {\n        className: treeTitleSlotClassNames.indicator,\n        ...(((selectable && !hasSubtree) || (selectableParent && expanded)) &&\n          _.isEmpty(selectionIndicator) && {\n            styles: resolvedStyles.selectionIndicator,\n          }),\n      }),\n    }),\n    overrideProps: selectionIndicatorOverrideProps,\n  });\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        onClick: handleClick,\n        selected,\n        ...rtlTextContainer.getAttributes({ forElements: [children, content] }),\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : content}\n\n      {selectable && selectIndicator}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n};\n\nTreeTitle.displayName = 'TreeTitle';\n\nTreeTitle.propTypes = {\n  ...commonPropTypes.createCommon(),\n  hasSubtree: PropTypes.bool,\n  index: PropTypes.number,\n  level: PropTypes.number,\n  onClick: PropTypes.func,\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  selectable: PropTypes.bool,\n  selectableParent: PropTypes.bool,\n  treeSize: PropTypes.number,\n  selectionIndicator: customPropTypes.shorthandAllowingChildren,\n  indeterminate: PropTypes.bool,\n};\nTreeTitle.defaultProps = {\n  as: 'a',\n  selectionIndicator: {},\n  accessibility: treeTitleBehavior,\n};\nTreeTitle.handledProps = Object.keys(TreeTitle.propTypes) as any;\n\nTreeTitle.create = createShorthandFactory({\n  Component: TreeTitle,\n  mappedProp: 'content',\n});\n"],"file":"TreeTitle.js"}