{"version":3,"sources":["felaInvokeKeyframesPlugin.ts"],"names":["callable","felaInvokeKeyframesPlugin","styles","Object","keys","reduce","acc","cssPropertyName","cssPropertyValue","keyframe","params"],"mappings":";AAAA,SAASA,QAAT,QAAwC,kBAAxC;;AAGA;;;;;;;AAOA,OAAO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,MAAD,EAA0C;AACjF,SAAOC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAApB,CAA2B,UAACC,GAAD,EAAMC,eAAN,EAA0B;AAAA;;AAC1D,QAAMC,gBAAgB,GAAGN,MAAM,CAACK,eAAD,CAA/B;;AAEA,QAAI,eAAgBC,gBAAhB,CAAJ,EAAuC;AAAA;;AACrC,UAAID,eAAe,KAAK,eAAxB,EAAyC;AAAA;;AACvC,YAAIC,gBAAgB,CAACC,QAArB,EAA+B;AAC7BP,UAAAA,MAAM,CAACK,eAAD,CAAN,GAA0BP,QAAQ,CAACQ,gBAAgB,CAACC,QAAlB,CAAR,CAAoCD,gBAAgB,CAACE,MAAjB,IAA2B,EAA/D,CAA1B;AACD;;AAED,iCACKJ,GADL,uCAEGC,eAFH,IAEqBL,MAAM,CAACK,eAAD,CAF3B;AAID;;AAED,+BACKD,GADL,yCAEGC,eAFH,IAEqBN,yBAAyB,CAACO,gBAAD,CAF9C;AAID;;AAED,6BAAYF,GAAZ,yCAAkBC,eAAlB,IAAoCL,MAAM,CAACK,eAAD,CAA1C;AACD,GAtBM,EAsBJ,EAtBI,CAAP;AAuBD,CAxBM","sourcesContent":["import { callable, ICSSInJSStyle } from '@fluentui/styles';\nimport * as _ from 'lodash';\n\n/**\n * Fela plugin for invoking keyframes with params. The keyframes, defined in the animationName prop,\n * are called with the params object, if defined in the animationName prop.\n *\n * Caution! Infinite recursion is possible in case if style object has links to self in the props\n * tree.\n */\nexport const felaInvokeKeyframesPlugin = (styles: ICSSInJSStyle): ICSSInJSStyle => {\n  return Object.keys(styles).reduce((acc, cssPropertyName) => {\n    const cssPropertyValue = styles[cssPropertyName];\n\n    if (_.isPlainObject(cssPropertyValue)) {\n      if (cssPropertyName === 'animationName') {\n        if (cssPropertyValue.keyframe) {\n          styles[cssPropertyName] = callable(cssPropertyValue.keyframe)(cssPropertyValue.params || {});\n        }\n\n        return {\n          ...acc,\n          [cssPropertyName]: styles[cssPropertyName],\n        };\n      }\n\n      return {\n        ...acc,\n        [cssPropertyName]: felaInvokeKeyframesPlugin(cssPropertyValue),\n      };\n    }\n\n    return { ...acc, [cssPropertyName]: styles[cssPropertyName] };\n  }, {});\n};\n"],"file":"felaInvokeKeyframesPlugin.js"}