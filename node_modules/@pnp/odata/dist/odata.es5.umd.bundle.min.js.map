{"version":3,"sources":["webpack://pnp.odata/webpack/universalModuleDefinition","webpack://pnp.odata/webpack/bootstrap","webpack://pnp.odata/./node_modules/tslib/tslib.es6.js","webpack://pnp.odata/./build/packages-es5/common/src/util.js","webpack://pnp.odata/./build/packages-es5/common/src/netutil.js","webpack://pnp.odata/./node_modules/adal-angular/dist/adal.min.js","webpack://pnp.odata/(webpack)/buildin/global.js","webpack://pnp.odata/./build/packages-es5/common/src/adalclient.js","webpack://pnp.odata/./build/packages-es5/common/src/collections.js","webpack://pnp.odata/./build/packages-es5/common/src/libconfig.js","webpack://pnp.odata/./build/packages-es5/logging/src/loglevel.js","webpack://pnp.odata/./build/packages-es5/common/src/storage.js","webpack://pnp.odata/./build/packages-es5/odata/src/caching.js","webpack://pnp.odata/./build/packages-es5/odata/src/parsers.js","webpack://pnp.odata/./build/packages-es5/logging/src/logger.js","webpack://pnp.odata/./build/packages-es5/logging/src/listeners.js","webpack://pnp.odata/./build/packages-es5/odata/src/pipeline.js","webpack://pnp.odata/./build/packages-es5/odata/src/queryable.js","webpack://pnp.odata/./build/packages-es5/odata/src/odatabatch.js","webpack://pnp.odata/./build/packages-es5/odata/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__decorate","decorators","target","desc","arguments","length","getOwnPropertyDescriptor","Reflect","decorate","getCtxCallback","context","method","params","_i","apply","dateAdd","date","interval","units","ret","Date","toLowerCase","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setTime","getTime","undefined","combine","paths","filter","path","stringIsNullOrEmpty","map","replace","join","getGUID","now","performance","Math","random","floor","toString","isFunc","cf","objectDefinedNotNull","obj","isArray","array","extend","source","noOverwrite","check","getOwnPropertyNames","v","reduce","isUrlAbsolute","url","test","jsS","JSON","stringify","hOP","mergeOptions","headers","BearerTokenFetchClient","_super","_token","_this","set","token","configurable","fetch","options","Headers","Request","forEach","append","FetchClient","global","AuthenticationContext","a","REQUEST_TYPE","LOGIN","RENEW_TOKEN","UNKNOWN","RESPONSE_TYPE","ID_TOKEN_TOKEN","TOKEN","CONSTANTS","ACCESS_TOKEN","EXPIRES_IN","ID_TOKEN","ERROR_DESCRIPTION","SESSION_STATE","ERROR","STORAGE","TOKEN_KEYS","ACCESS_TOKEN_KEY","EXPIRATION_KEY","STATE_LOGIN","STATE_RENEW","NONCE_IDTOKEN","USERNAME","IDTOKEN","LOGIN_REQUEST","LOGIN_ERROR","RENEW_STATUS","ANGULAR_LOGIN_REQUEST","RESOURCE_DELIMETER","CACHE_DELIMETER","LOADFRAME_TIMEOUT","TOKEN_RENEW_STATUS_CANCELED","TOKEN_RENEW_STATUS_COMPLETED","TOKEN_RENEW_STATUS_IN_PROGRESS","LOGGING_LEVEL","WARN","INFO","VERBOSE","LEVEL_STRING_MAP","0","1","2","3","POPUP_WIDTH","POPUP_HEIGHT","_singletonInstance","instance","config","callback","popUp","isAngular","_user","_activeRenewals","_loginInProgress","_acquireTokenInProgress","_renewStates","_callBackMappedToRenewStates","_callBacksMappedToRenewStates","_openedWindows","_requestType","_adalInstance","displayCall","Error","clientId","_cloneConfig","navigateToLoginRequestUrl","loginResource","redirectUri","location","href","split","postLogoutRedirectUri","anonymousEndpoints","loadFrameTimeout","Logging","piiLoggingEnabled","level","log","login","info","_guid","state","_idTokenNonce","_getItem","_saveItem","verbose","_getNavigateUrl","encodeURIComponent","push","registerCallback","_loginPopup","promptUser","_openPopup","e","screenLeft","screenX","f","screenTop","screenY","g","innerWidth","document","documentElement","clientWidth","body","h","innerHeight","clientHeight","j","k","open","focus","warn","message","_handlePopupError","indexOf","setInterval","closed","_broadcast","clearInterval","encodeURI","hash","handleWindowCallback","close","bubbles","cancelable","detail","createEvent","initCustomEvent","CustomEvent","Event","dispatchEvent","loginInProgress","_hasResource","_isEmpty","getCachedToken","expireOffsetSeconds","_now","getCachedUser","_createUser","_renewToken","_addAdalFrame","_urlRemoveQueryStringParameter","_addHintParameters","verbosePii","src","_loadFrameTimeout","_renewIdToken","_urlContainsQueryStringParameter","RegExp","_loadFrame","setTimeout","acquireToken","extraQueryParameter","acquireTokenPopup","acquireTokenRedirect","infoPii","clearCache","clearCacheForResource","logOut","logOutUri","tenant","getUser","profile","sid","upn","_extractIdToken","aud","userName","email","_getHash","substring","isCallback","_deserialize","getLoginError","getRequestInfo","valid","parameters","stateMatch","stateResponse","requestType","_matchState","parent","_matchNonce","nonce","_getResourceFromState","saveTokenFromHash","error","error_description","_expiresIn","exp","getResourceForEndpoint","endpoints","_getHostFromUri","String","opener","_serialize","_addLibMetadata","_decodeJwt","JWSPayload","_base64DecodeStringUrlSafe","parse","atob","decodeURIComponent","escape","_decode","charAt","fromCharCode","exec","header","JWSSig","_convertUrlSafeToRegularBase64EncodedString","slice","correlationId","_decimalToHex","crypto","msCrypto","getRandomValues","Uint8Array","parseInt","round","getElementById","createElement","opera","navigator","userAgent","setAttribute","style","visibility","position","width","height","borderWidth","getElementsByTagName","appendChild","insertAdjacentHTML","frames","cacheLocation","_supportsLocalStorage","localStorage","setItem","_supportsSessionStorage","sessionStorage","getItem","removeItem","_libVersion","toUTCString","stack","errorPii","warnPii","inject","Function","getResource","parser","protocol","hostname","AdalClient","_displayCallback","_loginPromise","fromSPFxContext","spfxContext","getToken","then","resource","Promise","resolve","reject","ensureAuthContext","_","_authContext","catch","popupWindow","pollTimer","URL","SPFxAdalClient","aadTokenProviderFactory","getTokenProvider","provider","objectEntries","entries","keys","LogLevel","RuntimeConfig","RuntimeConfigImpl","_v","Map","maps","mergeMaps","PnPClientStorageWrapper","store","defaultTimeoutMinutes","enabled","enableCacheExpiration","cacheExpirationHandler","persistable","expiration","delete","put","expire","createPersistable","getOrPut","deleteExpired","defaultTimeout","defaultCachingTimeoutSeconds","pnp","cacheExpirationIntervalMilliseconds","console","MemoryStorage","_store","size","clear","index","from","data","PnPClientStorage","_local","_session","getStore","CachingOptions","storeName","defaultCachingStore","storage","local","session","CachingParserWrapper","cacheOptions","response","cacheData","HttpRequestError","status","statusText","isHttpRequestError","init","clone","text","ODataParserBase","rawJson","handleError","parseImpl","has","parseFloat","txt","json","parseODataJSON","ok","result","results","ODataDefaultParser","TextParser","BlobParser","blob","JSONParser","BufferParser","arrayBuffer","buffer","LambdaParser","Logger","activeLogLevel","_instance","LoggerImpl","subscribe","listeners","listener","clearSubscribers","count","write","writeJSON","entry","err","subscribers","subscriber","ConsoleListener","msg","format","FunctionListener","setResult","hasResult","next","pipeline","shift","pipe","requestId","promise","ctx","returnResult","isBatched","batch","addResolveBatchDependency","requestPipelineMethod","alwaysRun","propertyKey","descriptor","args","PipelineMethods","logStart","verb","requestAbsoluteUrl","caching","isCached","cachingOptions","batchDependency","hydrate","send","add","batchId","client","clientFactory","opts","logEnd","getDefaultPipeline","Queryable","_query","_options","_url","_parentUrl","_useCaching","_cachingOptions","_cloneParentWasCaching","_cloneParentCacheOptions","_requestPipeline","toUrl","concat","pathPart","configure","configureFrom","usingCaching","globalCacheDisable","withPipeline","getCore","reqImpl","postCore","patchCore","deleteCore","putCore","getRequestPipeline","toRequestContext","_clone","_0","ODataQueryable","_batch","_batchDependency","inBatch","hasBatch","addBatchDependency","addDependency","cloneSettings","includeBatch","ODataBatch","_batchId","_reqs","_deps","_rDeps","id","toUpperCase","resolver","execute","all","executeImpl"],"mappings":"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","file":"odata.es5.umd.bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pnp.odata\"] = factory();\n\telse\n\t\troot[\"pnp.odata\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\r\n * Gets a callback function which will maintain context across async calls.\r\n * Allows for the calling pattern getCtxCallback(thisobj, method, methodarg1, methodarg2, ...)\r\n *\r\n * @param context The object that will be the 'this' value in the callback\r\n * @param method The method to which we will apply the context and parameters\r\n * @param params Optional, additional arguments to supply to the wrapped method when it is invoked\r\n */\r\nexport function getCtxCallback(context, method) {\r\n    var params = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        params[_i - 2] = arguments[_i];\r\n    }\r\n    return function () {\r\n        method.apply(context, params);\r\n    };\r\n}\r\n/**\r\n * Adds a value to a date\r\n *\r\n * @param date The date to which we will add units, done in local time\r\n * @param interval The name of the interval to add, one of: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second']\r\n * @param units The amount to add to date of the given interval\r\n *\r\n * http://stackoverflow.com/questions/1197928/how-to-add-30-minutes-to-a-javascript-date-object\r\n */\r\nexport function dateAdd(date, interval, units) {\r\n    var ret = new Date(date); // don't change original date\r\n    switch (interval.toLowerCase()) {\r\n        case \"year\":\r\n            ret.setFullYear(ret.getFullYear() + units);\r\n            break;\r\n        case \"quarter\":\r\n            ret.setMonth(ret.getMonth() + 3 * units);\r\n            break;\r\n        case \"month\":\r\n            ret.setMonth(ret.getMonth() + units);\r\n            break;\r\n        case \"week\":\r\n            ret.setDate(ret.getDate() + 7 * units);\r\n            break;\r\n        case \"day\":\r\n            ret.setDate(ret.getDate() + units);\r\n            break;\r\n        case \"hour\":\r\n            ret.setTime(ret.getTime() + units * 3600000);\r\n            break;\r\n        case \"minute\":\r\n            ret.setTime(ret.getTime() + units * 60000);\r\n            break;\r\n        case \"second\":\r\n            ret.setTime(ret.getTime() + units * 1000);\r\n            break;\r\n        default:\r\n            ret = undefined;\r\n            break;\r\n    }\r\n    return ret;\r\n}\r\n/**\r\n * Combines an arbitrary set of paths ensuring and normalizes the slashes\r\n *\r\n * @param paths 0 to n path parts to combine\r\n */\r\nexport function combine() {\r\n    var paths = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        paths[_i] = arguments[_i];\r\n    }\r\n    return paths\r\n        .filter(function (path) { return !stringIsNullOrEmpty(path); })\r\n        .map(function (path) { return path.replace(/^[\\\\|\\/]/, \"\").replace(/[\\\\|\\/]$/, \"\"); })\r\n        .join(\"/\")\r\n        .replace(/\\\\/g, \"/\");\r\n}\r\n/**\r\n * Gets a random string of chars length\r\n *\r\n * https://stackoverflow.com/questions/1349404/generate-random-string-characters-in-javascript\r\n *\r\n * @param chars The length of the random string to generate\r\n */\r\nexport function getRandomString(chars) {\r\n    var text = new Array(chars);\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (var i = 0; i < chars; i++) {\r\n        text[i] = possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text.join(\"\");\r\n}\r\n/**\r\n * Gets a random GUID value\r\n *\r\n * http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\r\n * https://stackoverflow.com/a/8809472 updated to prevent collisions.\r\n */\r\n/* tslint:disable no-bitwise */\r\nexport function getGUID() {\r\n    var d = Date.now();\r\n    if (typeof performance !== \"undefined\" && typeof performance.now === \"function\") {\r\n        d += performance.now(); // use high-precision timer if available\r\n    }\r\n    var guid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n    return guid;\r\n}\r\n/* tslint:enable */\r\n/**\r\n * Determines if a given value is a function\r\n *\r\n * @param cf The thing to test for functionness\r\n */\r\nexport function isFunc(cf) {\r\n    return typeof cf === \"function\";\r\n}\r\n/**\r\n * Determines if an object is both defined and not null\r\n * @param obj Object to test\r\n */\r\nexport function objectDefinedNotNull(obj) {\r\n    return typeof obj !== \"undefined\" && obj !== null;\r\n}\r\n/**\r\n * @returns whether the provided parameter is a JavaScript Array or not.\r\n*/\r\nexport function isArray(array) {\r\n    if (Array.isArray) {\r\n        return Array.isArray(array);\r\n    }\r\n    return array && typeof array.length === \"number\" && array.constructor === Array;\r\n}\r\n/**\r\n * Provides functionality to extend the given object by doing a shallow copy\r\n *\r\n * @param target The object to which properties will be copied\r\n * @param source The source object from which properties will be copied\r\n * @param noOverwrite If true existing properties on the target are not overwritten from the source\r\n * @param filter If provided allows additional filtering on what properties are copied (propName: string) => boolean\r\n *\r\n */\r\nexport function extend(target, source, noOverwrite, filter) {\r\n    if (noOverwrite === void 0) { noOverwrite = false; }\r\n    if (filter === void 0) { filter = function () { return true; }; }\r\n    if (!objectDefinedNotNull(source)) {\r\n        return target;\r\n    }\r\n    // ensure we don't overwrite things we don't want overwritten\r\n    var check = noOverwrite ? function (o, i) { return !(i in o); } : function () { return true; };\r\n    // final filter we will use\r\n    var f = function (v) { return check(target, v) && filter(v); };\r\n    return Object.getOwnPropertyNames(source)\r\n        .filter(f)\r\n        .reduce(function (t, v) {\r\n        t[v] = source[v];\r\n        return t;\r\n    }, target);\r\n}\r\n/**\r\n * Determines if a given url is absolute\r\n *\r\n * @param url The url to check to see if it is absolute\r\n */\r\nexport function isUrlAbsolute(url) {\r\n    return /^https?:\\/\\/|^\\/\\//i.test(url);\r\n}\r\n/**\r\n * Determines if a string is null or empty or undefined\r\n *\r\n * @param s The string to test\r\n */\r\nexport function stringIsNullOrEmpty(s) {\r\n    return s === undefined || s === null || s.length < 1;\r\n}\r\n/**\r\n * Gets an attribute value from an html/xml string block. NOTE: if the input attribute value has\r\n * RegEx special characters they will be escaped in the returned string\r\n *\r\n * @param html HTML to search\r\n * @param attrName The name of the attribute to find\r\n */\r\nexport function getAttrValueFromString(html, attrName) {\r\n    // make the input safe for regex\r\n    html = html.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n    var reg = new RegExp(attrName + \"\\\\s*?=\\\\s*?(\\\"|')([^\\\\1]*?)\\\\1\", \"i\");\r\n    var match = reg.exec(html);\r\n    return match !== null && match.length > 0 ? match[2] : null;\r\n}\r\n/**\r\n * Ensures guid values are represented consistently as \"ea123463-137d-4ae3-89b8-cf3fc578ca05\"\r\n *\r\n * @param guid The candidate guid\r\n */\r\nexport function sanitizeGuid(guid) {\r\n    if (stringIsNullOrEmpty(guid)) {\r\n        return guid;\r\n    }\r\n    var matches = /([0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12})/i.exec(guid);\r\n    return matches === null ? guid : matches[1];\r\n}\r\n/**\r\n * Shorthand for JSON.stringify\r\n *\r\n * @param o Any type of object\r\n */\r\nexport function jsS(o) {\r\n    return JSON.stringify(o);\r\n}\r\n/**\r\n * Shorthand for Object.hasOwnProperty\r\n *\r\n * @param o Object to check for\r\n * @param p Name of the property\r\n */\r\nexport function hOP(o, p) {\r\n    return Object.hasOwnProperty.call(o, p);\r\n}\r\n/**\r\n * Generates a ~unique hash code\r\n *\r\n * From: https://stackoverflow.com/questions/6122571/simple-non-secure-hash-function-for-javascript\r\n */\r\n// tslint:disable:no-bitwise\r\nexport function getHashCode(s) {\r\n    var hash = 0;\r\n    if (s.length === 0) {\r\n        return hash;\r\n    }\r\n    for (var i = 0; i < s.length; i++) {\r\n        var chr = s.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + chr;\r\n        hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash;\r\n}\r\n// tslint:enable:no-bitwise\r\n//# sourceMappingURL=util.js.map","import * as tslib_1 from \"tslib\";\r\nimport { extend, objectDefinedNotNull } from \"./util\";\r\nexport function mergeHeaders(target, source) {\r\n    if (source !== undefined && source !== null) {\r\n        var temp = new Request(\"\", { headers: source });\r\n        temp.headers.forEach(function (value, name) {\r\n            target.append(name, value);\r\n        });\r\n    }\r\n}\r\nexport function mergeOptions(target, source) {\r\n    if (objectDefinedNotNull(source)) {\r\n        var headers = extend(target.headers || {}, source.headers);\r\n        target = extend(target, source);\r\n        target.headers = headers;\r\n    }\r\n}\r\n/**\r\n * Makes requests using the global/window fetch API\r\n */\r\nvar FetchClient = /** @class */ (function () {\r\n    function FetchClient() {\r\n    }\r\n    FetchClient.prototype.fetch = function (url, options) {\r\n        return global.fetch(url, options);\r\n    };\r\n    return FetchClient;\r\n}());\r\nexport { FetchClient };\r\n/**\r\n * Makes requests using the fetch API adding the supplied token to the Authorization header\r\n */\r\nvar BearerTokenFetchClient = /** @class */ (function (_super) {\r\n    tslib_1.__extends(BearerTokenFetchClient, _super);\r\n    function BearerTokenFetchClient(_token) {\r\n        var _this = _super.call(this) || this;\r\n        _this._token = _token;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BearerTokenFetchClient.prototype, \"token\", {\r\n        get: function () {\r\n            return this._token || \"\";\r\n        },\r\n        set: function (token) {\r\n            this._token = token;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BearerTokenFetchClient.prototype.fetch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var headers = new Headers();\r\n        mergeHeaders(headers, options.headers);\r\n        headers.set(\"Authorization\", \"Bearer \" + this._token);\r\n        options.headers = headers;\r\n        return _super.prototype.fetch.call(this, url, options);\r\n    };\r\n    return BearerTokenFetchClient;\r\n}(FetchClient));\r\nexport { BearerTokenFetchClient };\r\n//# sourceMappingURL=netutil.js.map","/*! adal-angular v1.0.17 2018-02-27 */\r\nvar AuthenticationContext=function(){\"use strict\";return AuthenticationContext=function(a){if(this.REQUEST_TYPE={LOGIN:\"LOGIN\",RENEW_TOKEN:\"RENEW_TOKEN\",UNKNOWN:\"UNKNOWN\"},this.RESPONSE_TYPE={ID_TOKEN_TOKEN:\"id_token token\",TOKEN:\"token\"},this.CONSTANTS={ACCESS_TOKEN:\"access_token\",EXPIRES_IN:\"expires_in\",ID_TOKEN:\"id_token\",ERROR_DESCRIPTION:\"error_description\",SESSION_STATE:\"session_state\",ERROR:\"error\",STORAGE:{TOKEN_KEYS:\"adal.token.keys\",ACCESS_TOKEN_KEY:\"adal.access.token.key\",EXPIRATION_KEY:\"adal.expiration.key\",STATE_LOGIN:\"adal.state.login\",STATE_RENEW:\"adal.state.renew\",NONCE_IDTOKEN:\"adal.nonce.idtoken\",SESSION_STATE:\"adal.session.state\",USERNAME:\"adal.username\",IDTOKEN:\"adal.idtoken\",ERROR:\"adal.error\",ERROR_DESCRIPTION:\"adal.error.description\",LOGIN_REQUEST:\"adal.login.request\",LOGIN_ERROR:\"adal.login.error\",RENEW_STATUS:\"adal.token.renew.status\",ANGULAR_LOGIN_REQUEST:\"adal.angular.login.request\"},RESOURCE_DELIMETER:\"|\",CACHE_DELIMETER:\"||\",LOADFRAME_TIMEOUT:6e3,TOKEN_RENEW_STATUS_CANCELED:\"Canceled\",TOKEN_RENEW_STATUS_COMPLETED:\"Completed\",TOKEN_RENEW_STATUS_IN_PROGRESS:\"In Progress\",LOGGING_LEVEL:{ERROR:0,WARN:1,INFO:2,VERBOSE:3},LEVEL_STRING_MAP:{0:\"ERROR:\",1:\"WARNING:\",2:\"INFO:\",3:\"VERBOSE:\"},POPUP_WIDTH:483,POPUP_HEIGHT:600},AuthenticationContext.prototype._singletonInstance)return AuthenticationContext.prototype._singletonInstance;if(AuthenticationContext.prototype._singletonInstance=this,this.instance=\"https://login.microsoftonline.com/\",this.config={},this.callback=null,this.popUp=!1,this.isAngular=!1,this._user=null,this._activeRenewals={},this._loginInProgress=!1,this._acquireTokenInProgress=!1,this._renewStates=[],this._callBackMappedToRenewStates={},this._callBacksMappedToRenewStates={},this._openedWindows=[],this._requestType=this.REQUEST_TYPE.LOGIN,window._adalInstance=this,a.displayCall&&\"function\"!=typeof a.displayCall)throw new Error(\"displayCall is not a function\");if(!a.clientId)throw new Error(\"clientId is required\");this.config=this._cloneConfig(a),void 0===this.config.navigateToLoginRequestUrl&&(this.config.navigateToLoginRequestUrl=!0),this.config.popUp&&(this.popUp=!0),this.config.callback&&\"function\"==typeof this.config.callback&&(this.callback=this.config.callback),this.config.instance&&(this.instance=this.config.instance),this.config.loginResource||(this.config.loginResource=this.config.clientId),this.config.redirectUri||(this.config.redirectUri=window.location.href.split(\"?\")[0].split(\"#\")[0]),this.config.postLogoutRedirectUri||(this.config.postLogoutRedirectUri=window.location.href.split(\"?\")[0].split(\"#\")[0]),this.config.anonymousEndpoints||(this.config.anonymousEndpoints=[]),this.config.isAngular&&(this.isAngular=this.config.isAngular),this.config.loadFrameTimeout&&(this.CONSTANTS.LOADFRAME_TIMEOUT=this.config.loadFrameTimeout)},\"undefined\"!=typeof window&&(window.Logging={piiLoggingEnabled:!1,level:0,log:function(a){}}),AuthenticationContext.prototype.login=function(){if(this._loginInProgress)return void this.info(\"Login in progress\");this._loginInProgress=!0;var a=this._guid();this.config.state=a,this._idTokenNonce=this._guid();var b=this._getItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST);b&&\"\"!==b?this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,\"\"):b=window.location.href,this.verbose(\"Expected state: \"+a+\" startPage:\"+b),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,b),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,\"\"),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,a,!0),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this._saveItem(this.CONSTANTS.STORAGE.ERROR,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,\"\");var c=this._getNavigateUrl(\"id_token\",null)+\"&nonce=\"+encodeURIComponent(this._idTokenNonce);this.config.displayCall?this.config.displayCall(c):this.popUp?(this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,\"\"),this._renewStates.push(a),this.registerCallback(a,this.config.clientId,this.callback),this._loginPopup(c)):this.promptUser(c)},AuthenticationContext.prototype._openPopup=function(a,b,c,d){try{var e=window.screenLeft?window.screenLeft:window.screenX,f=window.screenTop?window.screenTop:window.screenY,g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=g/2-c/2+e,j=h/2-d/2+f,k=window.open(a,b,\"width=\"+c+\", height=\"+d+\", top=\"+j+\", left=\"+i);return k.focus&&k.focus(),k}catch(a){return this.warn(\"Error opening popup, \"+a.message),this._loginInProgress=!1,this._acquireTokenInProgress=!1,null}},AuthenticationContext.prototype._handlePopupError=function(a,b,c,d,e){this.warn(d),this._saveItem(this.CONSTANTS.STORAGE.ERROR,c),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,d),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,e),b&&this._activeRenewals[b]&&(this._activeRenewals[b]=null),this._loginInProgress=!1,this._acquireTokenInProgress=!1,a&&a(d,null,c)},AuthenticationContext.prototype._loginPopup=function(a,b,c){var d=this._openPopup(a,\"login\",this.CONSTANTS.POPUP_WIDTH,this.CONSTANTS.POPUP_HEIGHT),e=c||this.callback;if(null==d){var f=\"Popup Window is null. This can happen if you are using IE\";return void this._handlePopupError(e,b,\"Error opening popup\",f,f)}if(this._openedWindows.push(d),-1!=this.config.redirectUri.indexOf(\"#\"))var g=this.config.redirectUri.split(\"#\")[0];else var g=this.config.redirectUri;var h=this,i=window.setInterval(function(){if(!d||d.closed||void 0===d.closed){var a=\"Popup Window closed\",c=\"Popup Window closed by UI action/ Popup Window handle destroyed due to cross zone navigation in IE/Edge\";return h.isAngular&&h._broadcast(\"adal:popUpClosed\",c+h.CONSTANTS.RESOURCE_DELIMETER+a),h._handlePopupError(e,b,a,c,c),void window.clearInterval(i)}try{var f=d.location;if(-1!=encodeURI(f.href).indexOf(encodeURI(g)))return h.isAngular?h._broadcast(\"adal:popUpHashChanged\",f.hash):h.handleWindowCallback(f.hash),window.clearInterval(i),h._loginInProgress=!1,h._acquireTokenInProgress=!1,h.info(\"Closing popup window\"),h._openedWindows=[],void d.close()}catch(a){}},1)},AuthenticationContext.prototype._broadcast=function(a,b){!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent(\"CustomEvent\");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}if(\"function\"==typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype,window.CustomEvent=a}();var c=new CustomEvent(a,{detail:b});window.dispatchEvent(c)},AuthenticationContext.prototype.loginInProgress=function(){return this._loginInProgress},AuthenticationContext.prototype._hasResource=function(a){var b=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);return b&&!this._isEmpty(b)&&b.indexOf(a+this.CONSTANTS.RESOURCE_DELIMETER)>-1},AuthenticationContext.prototype.getCachedToken=function(a){if(!this._hasResource(a))return null;var b=this._getItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+a),c=this._getItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+a),d=this.config.expireOffsetSeconds||300;return c&&c>this._now()+d?b:(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+a,\"\"),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+a,0),null)},AuthenticationContext.prototype.getCachedUser=function(){if(this._user)return this._user;var a=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);return this._user=this._createUser(a),this._user},AuthenticationContext.prototype.registerCallback=function(a,b,c){this._activeRenewals[b]=a,this._callBacksMappedToRenewStates[a]||(this._callBacksMappedToRenewStates[a]=[]);var d=this;this._callBacksMappedToRenewStates[a].push(c),this._callBackMappedToRenewStates[a]||(this._callBackMappedToRenewStates[a]=function(c,e,f,g){d._activeRenewals[b]=null;for(var h=0;h<d._callBacksMappedToRenewStates[a].length;++h)try{d._callBacksMappedToRenewStates[a][h](c,e,f,g)}catch(f){d.warn(f)}d._callBacksMappedToRenewStates[a]=null,d._callBackMappedToRenewStates[a]=null})},AuthenticationContext.prototype._renewToken=function(a,b,c){this.info(\"renewToken is called for resource:\"+a);var d=this._addAdalFrame(\"adalRenewFrame\"+a),e=this._guid()+\"|\"+a;this.config.state=e,this._renewStates.push(e),this.verbose(\"Renew token Expected state: \"+e),c=c||\"token\";var f=this._urlRemoveQueryStringParameter(this._getNavigateUrl(c,a),\"prompt\");c===this.RESPONSE_TYPE.ID_TOKEN_TOKEN&&(this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),f+=\"&nonce=\"+encodeURIComponent(this._idTokenNonce)),f+=\"&prompt=none\",f=this._addHintParameters(f),this.registerCallback(e,a,b),this.verbosePii(\"Navigate to:\"+f),d.src=\"about:blank\",this._loadFrameTimeout(f,\"adalRenewFrame\"+a,a)},AuthenticationContext.prototype._renewIdToken=function(a,b){this.info(\"renewIdToken is called\");var c=this._addAdalFrame(\"adalIdTokenFrame\"),d=this._guid()+\"|\"+this.config.clientId;this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this.config.state=d,this._renewStates.push(d),this.verbose(\"Renew Idtoken Expected state: \"+d);var e=null===b||void 0===b?null:this.config.clientId,b=b||\"id_token\",f=this._urlRemoveQueryStringParameter(this._getNavigateUrl(b,e),\"prompt\");f+=\"&prompt=none\",f=this._addHintParameters(f),f+=\"&nonce=\"+encodeURIComponent(this._idTokenNonce),this.registerCallback(d,this.config.clientId,a),this.verbosePii(\"Navigate to:\"+f),c.src=\"about:blank\",this._loadFrameTimeout(f,\"adalIdTokenFrame\",this.config.clientId)},AuthenticationContext.prototype._urlContainsQueryStringParameter=function(a,b){return new RegExp(\"[\\\\?&]\"+a+\"=\").test(b)},AuthenticationContext.prototype._urlRemoveQueryStringParameter=function(a,b){var c=new RegExp(\"(\\\\&\"+b+\"=)[^&]+\");return a=a.replace(c,\"\"),c=new RegExp(\"(\"+b+\"=)[^&]+&\"),a=a.replace(c,\"\"),c=new RegExp(\"(\"+b+\"=)[^&]+\"),a=a.replace(c,\"\")},AuthenticationContext.prototype._loadFrameTimeout=function(a,b,c){this.verbose(\"Set loading state to pending for: \"+c),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+c,this.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS),this._loadFrame(a,b);var d=this;setTimeout(function(){if(d._getItem(d.CONSTANTS.STORAGE.RENEW_STATUS+c)===d.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS){d.verbose(\"Loading frame has timed out after: \"+d.CONSTANTS.LOADFRAME_TIMEOUT/1e3+\" seconds for resource \"+c);var a=d._activeRenewals[c];a&&d._callBackMappedToRenewStates[a]&&d._callBackMappedToRenewStates[a](\"Token renewal operation failed due to timeout\",null,\"Token Renewal Failed\"),d._saveItem(d.CONSTANTS.STORAGE.RENEW_STATUS+c,d.CONSTANTS.TOKEN_RENEW_STATUS_CANCELED)}},d.CONSTANTS.LOADFRAME_TIMEOUT)},AuthenticationContext.prototype._loadFrame=function(a,b){var c=this;c.info(\"LoadFrame: \"+b);var d=b;setTimeout(function(){var b=c._addAdalFrame(d);\"\"!==b.src&&\"about:blank\"!==b.src||(b.src=a,c._loadFrame(a,d))},500)},AuthenticationContext.prototype.acquireToken=function(a,b){if(this._isEmpty(a))return this.warn(\"resource is required\"),void b(\"resource is required\",null,\"resource is required\");var c=this.getCachedToken(a);return c?(this.info(\"Token is already in cache for resource:\"+a),void b(null,c,null)):this._user||this.config.extraQueryParameter&&-1!==this.config.extraQueryParameter.indexOf(\"login_hint\")?void(this._activeRenewals[a]?this.registerCallback(this._activeRenewals[a],a,b):(this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,a===this.config.clientId?this._user?(this.verbose(\"renewing idtoken\"),this._renewIdToken(b)):(this.verbose(\"renewing idtoken and access_token\"),this._renewIdToken(b,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)):this._user?(this.verbose(\"renewing access_token\"),this._renewToken(a,b)):(this.verbose(\"renewing idtoken and access_token\"),this._renewToken(a,b,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)))):(this.warn(\"User login is required\"),void b(\"User login is required\",null,\"login required\"))},AuthenticationContext.prototype.acquireTokenPopup=function(a,b,c,d){if(this._isEmpty(a))return this.warn(\"resource is required\"),void d(\"resource is required\",null,\"resource is required\");if(!this._user)return this.warn(\"User login is required\"),void d(\"User login is required\",null,\"login required\");if(this._acquireTokenInProgress)return this.warn(\"Acquire token interactive is already in progress\"),void d(\"Acquire token interactive is already in progress\",null,\"Acquire token interactive is already in progress\");var e=this._guid()+\"|\"+a;this.config.state=e,this._renewStates.push(e),this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,this.verbose(\"Renew token Expected state: \"+e);var f=this._urlRemoveQueryStringParameter(this._getNavigateUrl(\"token\",a),\"prompt\");if(f+=\"&prompt=select_account\",b&&(f+=b),c&&-1===f.indexOf(\"&claims\"))f+=\"&claims=\"+encodeURIComponent(c);else if(c&&-1!==f.indexOf(\"&claims\"))throw new Error(\"Claims cannot be passed as an extraQueryParameter\");f=this._addHintParameters(f),this._acquireTokenInProgress=!0,this.info(\"acquireToken interactive is called for the resource \"+a),this.registerCallback(e,a,d),this._loginPopup(f,a,d)},AuthenticationContext.prototype.acquireTokenRedirect=function(a,b,c){if(this._isEmpty(a))return this.warn(\"resource is required\"),void d(\"resource is required\",null,\"resource is required\");var d=this.callback;if(!this._user)return this.warn(\"User login is required\"),void d(\"User login is required\",null,\"login required\");if(this._acquireTokenInProgress)return this.warn(\"Acquire token interactive is already in progress\"),void d(\"Acquire token interactive is already in progress\",null,\"Acquire token interactive is already in progress\");var e=this._guid()+\"|\"+a;this.config.state=e,this.verbose(\"Renew token Expected state: \"+e);var f=this._urlRemoveQueryStringParameter(this._getNavigateUrl(\"token\",a),\"prompt\");if(f+=\"&prompt=select_account\",b&&(f+=b),c&&-1===f.indexOf(\"&claims\"))f+=\"&claims=\"+encodeURIComponent(c);else if(c&&-1!==f.indexOf(\"&claims\"))throw new Error(\"Claims cannot be passed as an extraQueryParameter\");f=this._addHintParameters(f),this._acquireTokenInProgress=!0,this.info(\"acquireToken interactive is called for the resource \"+a),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,window.location.href),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,e,!0),this.promptUser(f)},AuthenticationContext.prototype.promptUser=function(a){a?(this.infoPii(\"Navigate to:\"+a),window.location.replace(a)):this.info(\"Navigate url is empty\")},AuthenticationContext.prototype.clearCache=function(){this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,\"\"),this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,\"\"),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,\"\"),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,\"\"),this._renewStates=[],this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,\"\"),this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,\"\"),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,\"\"),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,\"\");var a=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);if(!this._isEmpty(a)){a=a.split(this.CONSTANTS.RESOURCE_DELIMETER);for(var b=0;b<a.length&&\"\"!==a[b];b++)this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+a[b],\"\"),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+a[b],0)}this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,\"\")},AuthenticationContext.prototype.clearCacheForResource=function(a){this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,\"\"),this._hasResource(a)&&(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+a,\"\"),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+a,0))},AuthenticationContext.prototype.logOut=function(){this.clearCache(),this._user=null;var a;if(this.config.logOutUri)a=this.config.logOutUri;else{var b=\"common\",c=\"\";this.config.tenant&&(b=this.config.tenant),this.config.postLogoutRedirectUri&&(c=\"post_logout_redirect_uri=\"+encodeURIComponent(this.config.postLogoutRedirectUri)),a=this.instance+b+\"/oauth2/logout?\"+c}this.infoPii(\"Logout navigate to: \"+a),this.promptUser(a)},AuthenticationContext.prototype._isEmpty=function(a){return void 0===a||!a||0===a.length},AuthenticationContext.prototype.getUser=function(a){if(\"function\"!=typeof a)throw new Error(\"callback is not a function\");if(this._user)return void a(null,this._user);var b=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);this._isEmpty(b)?(this.warn(\"User information is not available\"),a(\"User information is not available\",null)):(this.info(\"User exists in cache: \"),this._user=this._createUser(b),a(null,this._user))},AuthenticationContext.prototype._addHintParameters=function(a){if(this._user&&this._user.profile)if(this._user.profile.sid&&-1!==a.indexOf(\"&prompt=none\"))this._urlContainsQueryStringParameter(\"sid\",a)||(a+=\"&sid=\"+encodeURIComponent(this._user.profile.sid));else if(this._user.profile.upn&&(this._urlContainsQueryStringParameter(\"login_hint\",a)||(a+=\"&login_hint=\"+encodeURIComponent(this._user.profile.upn)),!this._urlContainsQueryStringParameter(\"domain_hint\",a)&&this._user.profile.upn.indexOf(\"@\")>-1)){var b=this._user.profile.upn.split(\"@\");a+=\"&domain_hint=\"+encodeURIComponent(b[b.length-1])}return a},AuthenticationContext.prototype._createUser=function(a){var b=null,c=this._extractIdToken(a);return c&&c.hasOwnProperty(\"aud\")&&(c.aud.toLowerCase()===this.config.clientId.toLowerCase()?(b={userName:\"\",profile:c},c.hasOwnProperty(\"upn\")?b.userName=c.upn:c.hasOwnProperty(\"email\")&&(b.userName=c.email)):this.warn(\"IdToken has invalid aud field\")),b},AuthenticationContext.prototype._getHash=function(a){return a.indexOf(\"#/\")>-1?a=a.substring(a.indexOf(\"#/\")+2):a.indexOf(\"#\")>-1&&(a=a.substring(1)),a},AuthenticationContext.prototype.isCallback=function(a){a=this._getHash(a);var b=this._deserialize(a);return b.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||b.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||b.hasOwnProperty(this.CONSTANTS.ID_TOKEN)},AuthenticationContext.prototype.getLoginError=function(){return this._getItem(this.CONSTANTS.STORAGE.LOGIN_ERROR)},AuthenticationContext.prototype.getRequestInfo=function(a){a=this._getHash(a);var b=this._deserialize(a),c={valid:!1,parameters:{},stateMatch:!1,stateResponse:\"\",requestType:this.REQUEST_TYPE.UNKNOWN};if(b&&(c.parameters=b,b.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||b.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||b.hasOwnProperty(this.CONSTANTS.ID_TOKEN))){c.valid=!0;var d=\"\";if(!b.hasOwnProperty(\"state\"))return this.warn(\"No state returned\"),c;if(this.verbose(\"State: \"+b.state),d=b.state,c.stateResponse=d,this._matchState(c))return c;if(!c.stateMatch&&window.parent){c.requestType=this._requestType;for(var e=this._renewStates,f=0;f<e.length;f++)if(e[f]===c.stateResponse){c.stateMatch=!0;break}}}return c},AuthenticationContext.prototype._matchNonce=function(a){var b=this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN);if(b){b=b.split(this.CONSTANTS.CACHE_DELIMETER);for(var c=0;c<b.length;c++)if(b[c]===a.profile.nonce)return!0}return!1},AuthenticationContext.prototype._matchState=function(a){var b=this._getItem(this.CONSTANTS.STORAGE.STATE_LOGIN);if(b){b=b.split(this.CONSTANTS.CACHE_DELIMETER);for(var c=0;c<b.length;c++)if(b[c]===a.stateResponse)return a.requestType=this.REQUEST_TYPE.LOGIN,a.stateMatch=!0,!0}var d=this._getItem(this.CONSTANTS.STORAGE.STATE_RENEW);if(d){d=d.split(this.CONSTANTS.CACHE_DELIMETER);for(var c=0;c<d.length;c++)if(d[c]===a.stateResponse)return a.requestType=this.REQUEST_TYPE.RENEW_TOKEN,a.stateMatch=!0,!0}return!1},AuthenticationContext.prototype._getResourceFromState=function(a){if(a){var b=a.indexOf(\"|\");if(b>-1&&b+1<a.length)return a.substring(b+1)}return\"\"},AuthenticationContext.prototype.saveTokenFromHash=function(a){this.info(\"State status:\"+a.stateMatch+\"; Request type:\"+a.requestType),this._saveItem(this.CONSTANTS.STORAGE.ERROR,\"\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,\"\");var b=this._getResourceFromState(a.stateResponse);if(a.parameters.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION))this.infoPii(\"Error :\"+a.parameters.error+\"; Error description:\"+a.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),this._saveItem(this.CONSTANTS.STORAGE.ERROR,a.parameters.error),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,a.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),a.requestType===this.REQUEST_TYPE.LOGIN&&(this._loginInProgress=!1,this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,a.parameters.error_description));else if(a.stateMatch){this.info(\"State is right\"),a.parameters.hasOwnProperty(this.CONSTANTS.SESSION_STATE)&&this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,a.parameters[this.CONSTANTS.SESSION_STATE]);var c;a.parameters.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)&&(this.info(\"Fragment has access token\"),this._hasResource(b)||(c=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||\"\",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,c+b+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+b,a.parameters[this.CONSTANTS.ACCESS_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+b,this._expiresIn(a.parameters[this.CONSTANTS.EXPIRES_IN]))),a.parameters.hasOwnProperty(this.CONSTANTS.ID_TOKEN)&&(this.info(\"Fragment has id token\"),this._loginInProgress=!1,this._user=this._createUser(a.parameters[this.CONSTANTS.ID_TOKEN]),this._user&&this._user.profile?this._matchNonce(this._user)?(this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,a.parameters[this.CONSTANTS.ID_TOKEN]),b=this.config.loginResource?this.config.loginResource:this.config.clientId,this._hasResource(b)||(c=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||\"\",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,c+b+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+b,a.parameters[this.CONSTANTS.ID_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+b,this._user.profile.exp)):(this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,\"Nonce received: \"+this._user.profile.nonce+\" is not same as requested: \"+this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN)),this._user=null):(a.parameters.error=\"invalid id_token\",a.parameters.error_description=\"Invalid id_token. id_token: \"+a.parameters[this.CONSTANTS.ID_TOKEN],this._saveItem(this.CONSTANTS.STORAGE.ERROR,\"invalid id_token\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,\"Invalid id_token. id_token: \"+a.parameters[this.CONSTANTS.ID_TOKEN])))}else a.parameters.error=\"Invalid_state\",a.parameters.error_description=\"Invalid_state. state: \"+a.stateResponse,this._saveItem(this.CONSTANTS.STORAGE.ERROR,\"Invalid_state\"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,\"Invalid_state. state: \"+a.stateResponse);this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+b,this.CONSTANTS.TOKEN_RENEW_STATUS_COMPLETED)},AuthenticationContext.prototype.getResourceForEndpoint=function(a){if(this.config&&this.config.anonymousEndpoints)for(var b=0;b<this.config.anonymousEndpoints.length;b++)if(a.indexOf(this.config.anonymousEndpoints[b])>-1)return null;if(this.config&&this.config.endpoints)for(var c in this.config.endpoints)if(a.indexOf(c)>-1)return this.config.endpoints[c];return a.indexOf(\"http://\")>-1||a.indexOf(\"https://\")>-1?this._getHostFromUri(a)===this._getHostFromUri(this.config.redirectUri)?this.config.loginResource:null:this.config.loginResource},AuthenticationContext.prototype._getHostFromUri=function(a){var b=String(a).replace(/^(https?:)\\/\\//,\"\");return b=b.split(\"/\")[0]},AuthenticationContext.prototype.handleWindowCallback=function(a){if(null==a&&(a=window.location.hash),this.isCallback(a)){var b=null,c=!1;this._openedWindows.length>0&&this._openedWindows[this._openedWindows.length-1].opener&&this._openedWindows[this._openedWindows.length-1].opener._adalInstance?(b=this._openedWindows[this._openedWindows.length-1].opener._adalInstance,c=!0):window.parent&&window.parent._adalInstance&&(b=window.parent._adalInstance);var d,e,f=b.getRequestInfo(a),g=null;e=c||window.parent!==window?b._callBackMappedToRenewStates[f.stateResponse]:b.callback,b.info(\"Returned from redirect url\"),b.saveTokenFromHash(f),f.requestType===this.REQUEST_TYPE.RENEW_TOKEN&&window.parent?(window.parent!==window?b.verbose(\"Window is in iframe, acquiring token silently\"):b.verbose(\"acquiring token interactive in progress\"),d=f.parameters[b.CONSTANTS.ACCESS_TOKEN]||f.parameters[b.CONSTANTS.ID_TOKEN],g=b.CONSTANTS.ACCESS_TOKEN):f.requestType===this.REQUEST_TYPE.LOGIN&&(d=f.parameters[b.CONSTANTS.ID_TOKEN],g=b.CONSTANTS.ID_TOKEN);var h=f.parameters[b.CONSTANTS.ERROR_DESCRIPTION],i=f.parameters[b.CONSTANTS.ERROR];try{e&&e(h,d,i,g)}catch(a){b.error(\"Error occurred in user defined callback function: \"+a)}window.parent!==window||c||(b.config.navigateToLoginRequestUrl?window.location.href=b._getItem(b.CONSTANTS.STORAGE.LOGIN_REQUEST):window.location.hash=\"\")}},AuthenticationContext.prototype._getNavigateUrl=function(a,b){var c=\"common\";this.config.tenant&&(c=this.config.tenant);var d=this.instance+c+\"/oauth2/authorize\"+this._serialize(a,this.config,b)+this._addLibMetadata();return this.info(\"Navigate url:\"+d),d},AuthenticationContext.prototype._extractIdToken=function(a){var b=this._decodeJwt(a);if(!b)return null;try{var c=b.JWSPayload,d=this._base64DecodeStringUrlSafe(c);return d?JSON.parse(d):(this.info(\"The returned id_token could not be base64 url safe decoded.\"),null)}catch(a){this.error(\"The returned id_token could not be decoded\",a)}return null},AuthenticationContext.prototype._base64DecodeStringUrlSafe=function(a){return a=a.replace(/-/g,\"+\").replace(/_/g,\"/\"),window.atob?decodeURIComponent(escape(window.atob(a))):decodeURIComponent(escape(this._decode(a)))},AuthenticationContext.prototype._decode=function(a){var b=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";a=String(a).replace(/=+$/,\"\");var c=a.length;if(c%4==1)throw new Error(\"The token to be decoded is not correctly encoded.\");for(var d,e,f,g,h,i,j,k,l=\"\",m=0;m<c;m+=4){if(d=b.indexOf(a.charAt(m)),e=b.indexOf(a.charAt(m+1)),f=b.indexOf(a.charAt(m+2)),g=b.indexOf(a.charAt(m+3)),m+2===c-1){h=d<<18|e<<12|f<<6,i=h>>16&255,j=h>>8&255,l+=String.fromCharCode(i,j);break}if(m+1===c-1){h=d<<18|e<<12,i=h>>16&255,l+=String.fromCharCode(i);break}h=d<<18|e<<12|f<<6|g,i=h>>16&255,j=h>>8&255,k=255&h,l+=String.fromCharCode(i,j,k)}return l},AuthenticationContext.prototype._decodeJwt=function(a){if(this._isEmpty(a))return null;var b=/^([^\\.\\s]*)\\.([^\\.\\s]+)\\.([^\\.\\s]*)$/,c=b.exec(a);return!c||c.length<4?(this.warn(\"The returned id_token is not parseable.\"),null):{header:c[1],JWSPayload:c[2],JWSSig:c[3]}},AuthenticationContext.prototype._convertUrlSafeToRegularBase64EncodedString=function(a){return a.replace(\"-\",\"+\").replace(\"_\",\"/\")},AuthenticationContext.prototype._serialize=function(a,b,c){var d=[];if(null!==b){d.push(\"?response_type=\"+a),d.push(\"client_id=\"+encodeURIComponent(b.clientId)),c&&d.push(\"resource=\"+encodeURIComponent(c)),d.push(\"redirect_uri=\"+encodeURIComponent(b.redirectUri)),d.push(\"state=\"+encodeURIComponent(b.state)),b.hasOwnProperty(\"slice\")&&d.push(\"slice=\"+encodeURIComponent(b.slice)),b.hasOwnProperty(\"extraQueryParameter\")&&d.push(b.extraQueryParameter);var e=b.correlationId?b.correlationId:this._guid();d.push(\"client-request-id=\"+encodeURIComponent(e))}return d.join(\"&\")},AuthenticationContext.prototype._deserialize=function(a){var b,c=/\\+/g,d=/([^&=]+)=([^&]*)/g,e=function(a){return decodeURIComponent(a.replace(c,\" \"))},f={};for(b=d.exec(a);b;)f[e(b[1])]=e(b[2]),b=d.exec(a);return f},AuthenticationContext.prototype._decimalToHex=function(a){for(var b=a.toString(16);b.length<2;)b=\"0\"+b;return b},AuthenticationContext.prototype._guid=function(){var a=window.crypto||window.msCrypto;if(a&&a.getRandomValues){var b=new Uint8Array(16);return a.getRandomValues(b),b[6]|=64,b[6]&=79,b[8]|=128,b[8]&=191,this._decimalToHex(b[0])+this._decimalToHex(b[1])+this._decimalToHex(b[2])+this._decimalToHex(b[3])+\"-\"+this._decimalToHex(b[4])+this._decimalToHex(b[5])+\"-\"+this._decimalToHex(b[6])+this._decimalToHex(b[7])+\"-\"+this._decimalToHex(b[8])+this._decimalToHex(b[9])+\"-\"+this._decimalToHex(b[10])+this._decimalToHex(b[11])+this._decimalToHex(b[12])+this._decimalToHex(b[13])+this._decimalToHex(b[14])+this._decimalToHex(b[15])}for(var c=\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\",d=\"0123456789abcdef\",e=0,f=\"\",g=0;g<36;g++)\"-\"!==c[g]&&\"4\"!==c[g]&&(e=16*Math.random()|0),\"x\"===c[g]?f+=d[e]:\"y\"===c[g]?(e&=3,e|=8,f+=d[e]):f+=c[g];return f},AuthenticationContext.prototype._expiresIn=function(a){return a||(a=3599),this._now()+parseInt(a,10)},AuthenticationContext.prototype._now=function(){return Math.round((new Date).getTime()/1e3)},AuthenticationContext.prototype._addAdalFrame=function(a){if(void 0!==a){this.info(\"Add adal frame to document:\"+a);var b=document.getElementById(a);if(!b){if(document.createElement&&document.documentElement&&(window.opera||-1===window.navigator.userAgent.indexOf(\"MSIE 5.0\"))){var c=document.createElement(\"iframe\");c.setAttribute(\"id\",a),c.setAttribute(\"aria-hidden\",\"true\"),c.style.visibility=\"hidden\",c.style.position=\"absolute\",c.style.width=c.style.height=c.borderWidth=\"0px\",b=document.getElementsByTagName(\"body\")[0].appendChild(c)}else document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML(\"beforeEnd\",'<iframe name=\"'+a+'\" id=\"'+a+'\" style=\"display:none\"></iframe>');window.frames&&window.frames[a]&&(b=window.frames[a])}return b}},AuthenticationContext.prototype._saveItem=function(a,b,c){if(this.config&&this.config.cacheLocation&&\"localStorage\"===this.config.cacheLocation){if(!this._supportsLocalStorage())return this.info(\"Local storage is not supported\"),!1;if(c){var d=this._getItem(a)||\"\";localStorage.setItem(a,d+b+this.CONSTANTS.CACHE_DELIMETER)}else localStorage.setItem(a,b);return!0}return this._supportsSessionStorage()?(sessionStorage.setItem(a,b),!0):(this.info(\"Session storage is not supported\"),!1)},AuthenticationContext.prototype._getItem=function(a){return this.config&&this.config.cacheLocation&&\"localStorage\"===this.config.cacheLocation?this._supportsLocalStorage()?localStorage.getItem(a):(this.info(\"Local storage is not supported\"),null):this._supportsSessionStorage()?sessionStorage.getItem(a):(this.info(\"Session storage is not supported\"),null)},AuthenticationContext.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem(\"storageTest\",\"A\"),\"A\"==window.localStorage.getItem(\"storageTest\")&&(window.localStorage.removeItem(\"storageTest\"),!window.localStorage.getItem(\"storageTest\")))}catch(a){return!1}},AuthenticationContext.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(\"storageTest\",\"A\"),\"A\"==window.sessionStorage.getItem(\"storageTest\")&&(window.sessionStorage.removeItem(\"storageTest\"),!window.sessionStorage.getItem(\"storageTest\")))}catch(a){return!1}},AuthenticationContext.prototype._cloneConfig=function(a){if(null===a||\"object\"!=typeof a)return a;var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},AuthenticationContext.prototype._addLibMetadata=function(){return\"&x-client-SKU=Js&x-client-Ver=\"+this._libVersion()},AuthenticationContext.prototype.log=function(a,b,c,d){if(a<=Logging.level){if(!Logging.piiLoggingEnabled&&d)return;var e=(new Date).toUTCString(),f=\"\";f=this.config.correlationId?e+\":\"+this.config.correlationId+\"-\"+this._libVersion()+\"-\"+this.CONSTANTS.LEVEL_STRING_MAP[a]+\" \"+b:e+\":\"+this._libVersion()+\"-\"+this.CONSTANTS.LEVEL_STRING_MAP[a]+\" \"+b,c&&(f+=\"\\nstack:\\n\"+c.stack),Logging.log(f)}},AuthenticationContext.prototype.error=function(a,b){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,a,b)},AuthenticationContext.prototype.warn=function(a){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,a,null)},AuthenticationContext.prototype.info=function(a){\r\nthis.log(this.CONSTANTS.LOGGING_LEVEL.INFO,a,null)},AuthenticationContext.prototype.verbose=function(a){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,a,null)},AuthenticationContext.prototype.errorPii=function(a,b){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,a,b,!0)},AuthenticationContext.prototype.warnPii=function(a){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,a,null,!0)},AuthenticationContext.prototype.infoPii=function(a){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,a,null,!0)},AuthenticationContext.prototype.verbosePii=function(a){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,a,null,!0)},AuthenticationContext.prototype._libVersion=function(){return\"1.0.17\"},\"undefined\"!=typeof module&&module.exports&&(module.exports=AuthenticationContext,module.exports.inject=function(a){return new AuthenticationContext(a)}),AuthenticationContext}();","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import * as tslib_1 from \"tslib\";\r\nimport { BearerTokenFetchClient } from \"./netutil\";\r\nimport { isUrlAbsolute } from \"./util\";\r\n// @ts-ignore\r\nimport * as adal from \"adal-angular/dist/adal.min.js\";\r\n/**\r\n * Parses out the root of the request url to use as the resource when getting the token\r\n *\r\n * After: https://gist.github.com/jlong/2428561\r\n * @param url The url to parse\r\n */\r\nfunction getResource(url) {\r\n    var parser = document.createElement(\"a\");\r\n    parser.href = url;\r\n    return parser.protocol + \"//\" + parser.hostname;\r\n}\r\n/**\r\n * Azure AD Client for use in the browser\r\n */\r\nvar AdalClient = /** @class */ (function (_super) {\r\n    tslib_1.__extends(AdalClient, _super);\r\n    /**\r\n     * Creates a new instance of AdalClient\r\n     * @param clientId Azure App Id\r\n     * @param tenant Office 365 tenant (Ex: {tenant}.onmicrosoft.com)\r\n     * @param redirectUri The redirect url used to authenticate the\r\n     */\r\n    function AdalClient(clientId, tenant, redirectUri) {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.clientId = clientId;\r\n        _this.tenant = tenant;\r\n        _this.redirectUri = redirectUri;\r\n        _this._displayCallback = null;\r\n        _this._loginPromise = null;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creates a new AdalClient using the values of the supplied SPFx context (requires SPFx >= 1.6)\r\n     *\r\n     * @param spfxContext Current SPFx context\r\n     * @description Using this method requires that the features described in this article\r\n     * https://docs.microsoft.com/en-us/sharepoint/dev/spfx/use-aadhttpclient are activated in the tenant.\r\n     */\r\n    AdalClient.fromSPFxContext = function (spfxContext) {\r\n        return new SPFxAdalClient(spfxContext);\r\n    };\r\n    /**\r\n     * Conducts the fetch opertation against the AAD secured resource\r\n     *\r\n     * @param url Absolute URL for the request\r\n     * @param options Any fetch options passed to the underlying fetch implementation\r\n     */\r\n    AdalClient.prototype.fetch = function (url, options) {\r\n        var _this = this;\r\n        if (!isUrlAbsolute(url)) {\r\n            throw Error(\"You must supply absolute urls to AdalClient.fetch.\");\r\n        }\r\n        // the url we are calling is the resource\r\n        return this.getToken(getResource(url)).then(function (token) {\r\n            _this.token = token;\r\n            return _super.prototype.fetch.call(_this, url, options);\r\n        });\r\n    };\r\n    /**\r\n     * Gets a token based on the current user\r\n     *\r\n     * @param resource The resource for which we are requesting a token\r\n     */\r\n    AdalClient.prototype.getToken = function (resource) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.ensureAuthContext().then(function (_) { return _this.login(); }).then(function (_) {\r\n                AdalClient._authContext.acquireToken(resource, function (message, token) {\r\n                    if (message) {\r\n                        return reject(Error(message));\r\n                    }\r\n                    resolve(token);\r\n                });\r\n            }).catch(reject);\r\n        });\r\n    };\r\n    /**\r\n     * Ensures we have created and setup the adal AuthenticationContext instance\r\n     */\r\n    AdalClient.prototype.ensureAuthContext = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            if (AdalClient._authContext === null) {\r\n                AdalClient._authContext = adal.inject({\r\n                    clientId: _this.clientId,\r\n                    displayCall: function (url) {\r\n                        if (_this._displayCallback) {\r\n                            _this._displayCallback(url);\r\n                        }\r\n                    },\r\n                    navigateToLoginRequestUrl: false,\r\n                    redirectUri: _this.redirectUri,\r\n                    tenant: _this.tenant,\r\n                });\r\n            }\r\n            resolve();\r\n        });\r\n    };\r\n    /**\r\n     * Ensures the current user is logged in\r\n     */\r\n    AdalClient.prototype.login = function () {\r\n        var _this = this;\r\n        if (this._loginPromise) {\r\n            return this._loginPromise;\r\n        }\r\n        this._loginPromise = new Promise(function (resolve, reject) {\r\n            if (AdalClient._authContext.getCachedUser()) {\r\n                return resolve();\r\n            }\r\n            _this._displayCallback = function (url) {\r\n                var popupWindow = window.open(url, \"login\", \"width=483, height=600\");\r\n                if (!popupWindow) {\r\n                    return reject(Error(\"Could not open pop-up window for auth. Likely pop-ups are blocked by the browser.\"));\r\n                }\r\n                if (popupWindow && popupWindow.focus) {\r\n                    popupWindow.focus();\r\n                }\r\n                var pollTimer = window.setInterval(function () {\r\n                    if (!popupWindow || popupWindow.closed || popupWindow.closed === undefined) {\r\n                        window.clearInterval(pollTimer);\r\n                    }\r\n                    try {\r\n                        if (popupWindow.document.URL.indexOf(_this.redirectUri) !== -1) {\r\n                            window.clearInterval(pollTimer);\r\n                            AdalClient._authContext.handleWindowCallback(popupWindow.location.hash);\r\n                            popupWindow.close();\r\n                            resolve();\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        reject(e);\r\n                    }\r\n                }, 30);\r\n            };\r\n            // this triggers the login process\r\n            _this.ensureAuthContext().then(function (_) {\r\n                AdalClient._authContext._loginInProgress = false;\r\n                AdalClient._authContext.login();\r\n                _this._displayCallback = null;\r\n            });\r\n        });\r\n        return this._loginPromise;\r\n    };\r\n    /**\r\n     * Our auth context\r\n     */\r\n    AdalClient._authContext = null;\r\n    return AdalClient;\r\n}(BearerTokenFetchClient));\r\nexport { AdalClient };\r\n/**\r\n * Client wrapping the aadTokenProvider available from SPFx >= 1.6\r\n */\r\nvar SPFxAdalClient = /** @class */ (function (_super) {\r\n    tslib_1.__extends(SPFxAdalClient, _super);\r\n    /**\r\n     *\r\n     * @param context provide the appropriate SPFx Context object\r\n     */\r\n    function SPFxAdalClient(context) {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.context = context;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Executes a fetch request using the supplied url and options\r\n     *\r\n     * @param url Absolute url of the request\r\n     * @param options Any options\r\n     */\r\n    SPFxAdalClient.prototype.fetch = function (url, options) {\r\n        var _this = this;\r\n        return this.getToken(getResource(url)).then(function (token) {\r\n            _this.token = token;\r\n            return _super.prototype.fetch.call(_this, url, options);\r\n        });\r\n    };\r\n    /**\r\n     * Gets an AAD token for the provided resource using the SPFx AADTokenProvider\r\n     *\r\n     * @param resource Resource for which a token is to be requested (ex: https://graph.microsoft.com)\r\n     */\r\n    SPFxAdalClient.prototype.getToken = function (resource) {\r\n        return this.context.aadTokenProviderFactory.getTokenProvider().then(function (provider) {\r\n            return provider.getToken(resource);\r\n        });\r\n    };\r\n    return SPFxAdalClient;\r\n}(BearerTokenFetchClient));\r\nexport { SPFxAdalClient };\r\n//# sourceMappingURL=adalclient.js.map","import { isFunc } from \"./util\";\r\n/**\r\n * Used to calculate the object properties, with polyfill if needed\r\n */\r\nvar objectEntries = isFunc(Object.entries) ? Object.entries : function (o) { return Object.keys(o).map(function (k) { return [k, o[k]]; }); };\r\n/**\r\n * Converts the supplied object to a map\r\n *\r\n * @param o The object to map\r\n */\r\nexport function objectToMap(o) {\r\n    if (o !== undefined && o !== null) {\r\n        return new Map(objectEntries(o));\r\n    }\r\n    return new Map();\r\n}\r\n/**\r\n * Merges to Map instances together, overwriting values in target with matching keys, last in wins\r\n *\r\n * @param target map into which the other maps are merged\r\n * @param maps One or more maps to merge into the target\r\n */\r\nexport function mergeMaps(target) {\r\n    var maps = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        maps[_i - 1] = arguments[_i];\r\n    }\r\n    for (var i = 0; i < maps.length; i++) {\r\n        maps[i].forEach(function (v, k) {\r\n            target.set(k, v);\r\n        });\r\n    }\r\n    return target;\r\n}\r\n//# sourceMappingURL=collections.js.map","import { mergeMaps, objectToMap } from \"./collections\";\r\nexport function setup(config) {\r\n    RuntimeConfig.extend(config);\r\n}\r\n// lable mapping for known config values\r\nvar s = [\r\n    \"defaultCachingStore\",\r\n    \"defaultCachingTimeoutSeconds\",\r\n    \"globalCacheDisable\",\r\n    \"enableCacheExpiration\",\r\n    \"cacheExpirationIntervalMilliseconds\",\r\n    \"spfxContext\",\r\n];\r\nvar RuntimeConfigImpl = /** @class */ (function () {\r\n    function RuntimeConfigImpl(_v) {\r\n        if (_v === void 0) { _v = new Map(); }\r\n        this._v = _v;\r\n        // setup defaults\r\n        this._v.set(s[0], \"session\");\r\n        this._v.set(s[1], 60);\r\n        this._v.set(s[2], false);\r\n        this._v.set(s[3], false);\r\n        this._v.set(s[4], 750);\r\n        this._v.set(s[5], null);\r\n    }\r\n    /**\r\n     *\r\n     * @param config The set of properties to add to the globa configuration instance\r\n     */\r\n    RuntimeConfigImpl.prototype.extend = function (config) {\r\n        this._v = mergeMaps(this._v, objectToMap(config));\r\n    };\r\n    RuntimeConfigImpl.prototype.get = function (key) {\r\n        return this._v.get(key);\r\n    };\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"defaultCachingStore\", {\r\n        get: function () {\r\n            return this.get(s[0]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"defaultCachingTimeoutSeconds\", {\r\n        get: function () {\r\n            return this.get(s[1]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"globalCacheDisable\", {\r\n        get: function () {\r\n            return this.get(s[2]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"enableCacheExpiration\", {\r\n        get: function () {\r\n            return this.get(s[3]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"cacheExpirationIntervalMilliseconds\", {\r\n        get: function () {\r\n            return this.get(s[4]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"spfxContext\", {\r\n        get: function () {\r\n            return this.get(s[5]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RuntimeConfigImpl;\r\n}());\r\nexport { RuntimeConfigImpl };\r\nvar _runtimeConfig = new RuntimeConfigImpl();\r\nexport var RuntimeConfig = _runtimeConfig;\r\n//# sourceMappingURL=libconfig.js.map","/**\r\n * A set of logging levels\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\r\n    LogLevel[LogLevel[\"Warning\"] = 2] = \"Warning\";\r\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\r\n    LogLevel[LogLevel[\"Off\"] = 99] = \"Off\";\r\n})(LogLevel || (LogLevel = {}));\r\n//# sourceMappingURL=loglevel.js.map","import { dateAdd, getCtxCallback, jsS, objectDefinedNotNull } from \"./util\";\r\nimport { RuntimeConfig } from \"./libconfig\";\r\n/**\r\n * A wrapper class to provide a consistent interface to browser based storage\r\n *\r\n */\r\nvar PnPClientStorageWrapper = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the PnPClientStorageWrapper class\r\n     *\r\n     * @constructor\r\n     */\r\n    function PnPClientStorageWrapper(store, defaultTimeoutMinutes) {\r\n        if (defaultTimeoutMinutes === void 0) { defaultTimeoutMinutes = -1; }\r\n        this.store = store;\r\n        this.defaultTimeoutMinutes = defaultTimeoutMinutes;\r\n        this.enabled = this.test();\r\n        // if the cache timeout is enabled call the handler\r\n        // this will clear any expired items and set the timeout function\r\n        if (RuntimeConfig.enableCacheExpiration) {\r\n            this.cacheExpirationHandler();\r\n        }\r\n    }\r\n    /**\r\n     * Get a value from storage, or null if that value does not exist\r\n     *\r\n     * @param key The key whose value we want to retrieve\r\n     */\r\n    PnPClientStorageWrapper.prototype.get = function (key) {\r\n        if (!this.enabled) {\r\n            return null;\r\n        }\r\n        var o = this.store.getItem(key);\r\n        if (!objectDefinedNotNull(o)) {\r\n            return null;\r\n        }\r\n        var persistable = JSON.parse(o);\r\n        if (new Date(persistable.expiration) <= new Date()) {\r\n            this.delete(key);\r\n            return null;\r\n        }\r\n        else {\r\n            return persistable.value;\r\n        }\r\n    };\r\n    /**\r\n     * Adds a value to the underlying storage\r\n     *\r\n     * @param key The key to use when storing the provided value\r\n     * @param o The value to store\r\n     * @param expire Optional, if provided the expiration of the item, otherwise the default is used\r\n     */\r\n    PnPClientStorageWrapper.prototype.put = function (key, o, expire) {\r\n        if (this.enabled) {\r\n            this.store.setItem(key, this.createPersistable(o, expire));\r\n        }\r\n    };\r\n    /**\r\n     * Deletes a value from the underlying storage\r\n     *\r\n     * @param key The key of the pair we want to remove from storage\r\n     */\r\n    PnPClientStorageWrapper.prototype.delete = function (key) {\r\n        if (this.enabled) {\r\n            this.store.removeItem(key);\r\n        }\r\n    };\r\n    /**\r\n     * Gets an item from the underlying storage, or adds it if it does not exist using the supplied getter function\r\n     *\r\n     * @param key The key to use when storing the provided value\r\n     * @param getter A function which will upon execution provide the desired value\r\n     * @param expire Optional, if provided the expiration of the item, otherwise the default is used\r\n     */\r\n    PnPClientStorageWrapper.prototype.getOrPut = function (key, getter, expire) {\r\n        var _this = this;\r\n        if (!this.enabled) {\r\n            return getter();\r\n        }\r\n        var o = this.get(key);\r\n        if (o === null) {\r\n            return getter().then(function (d) {\r\n                _this.put(key, d, expire);\r\n                return d;\r\n            });\r\n        }\r\n        return Promise.resolve(o);\r\n    };\r\n    /**\r\n     * Deletes any expired items placed in the store by the pnp library, leaves other items untouched\r\n     */\r\n    PnPClientStorageWrapper.prototype.deleteExpired = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (!_this.enabled) {\r\n                resolve();\r\n            }\r\n            try {\r\n                for (var i = 0; i < _this.store.length; i++) {\r\n                    var key = _this.store.key(i);\r\n                    if (key !== null) {\r\n                        // test the stored item to see if we stored it\r\n                        if (/[\"|']?pnp[\"|']? ?: ?1/i.test(_this.store.getItem(key))) {\r\n                            // get those items as get will delete from cache if they are expired\r\n                            _this.get(key);\r\n                        }\r\n                    }\r\n                }\r\n                resolve();\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Used to determine if the wrapped storage is available currently\r\n     */\r\n    PnPClientStorageWrapper.prototype.test = function () {\r\n        var str = \"t\";\r\n        try {\r\n            this.store.setItem(str, str);\r\n            this.store.removeItem(str);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Creates the persistable to store\r\n     */\r\n    PnPClientStorageWrapper.prototype.createPersistable = function (o, expire) {\r\n        if (expire === undefined) {\r\n            // ensure we are by default inline with the global library setting\r\n            var defaultTimeout = RuntimeConfig.defaultCachingTimeoutSeconds;\r\n            if (this.defaultTimeoutMinutes > 0) {\r\n                defaultTimeout = this.defaultTimeoutMinutes * 60;\r\n            }\r\n            expire = dateAdd(new Date(), \"second\", defaultTimeout);\r\n        }\r\n        return jsS({ pnp: 1, expiration: expire, value: o });\r\n    };\r\n    /**\r\n     * Deletes expired items added by this library in this.store and sets a timeout to call itself\r\n     */\r\n    PnPClientStorageWrapper.prototype.cacheExpirationHandler = function () {\r\n        var _this = this;\r\n        this.deleteExpired().then(function (_) {\r\n            // call ourself in the future\r\n            setTimeout(getCtxCallback(_this, _this.cacheExpirationHandler), RuntimeConfig.cacheExpirationIntervalMilliseconds);\r\n        }).catch(function (e) {\r\n            console.error(e);\r\n        });\r\n    };\r\n    return PnPClientStorageWrapper;\r\n}());\r\nexport { PnPClientStorageWrapper };\r\n/**\r\n * A thin implementation of in-memory storage for use in nodejs\r\n */\r\nvar MemoryStorage = /** @class */ (function () {\r\n    function MemoryStorage(_store) {\r\n        if (_store === void 0) { _store = new Map(); }\r\n        this._store = _store;\r\n    }\r\n    Object.defineProperty(MemoryStorage.prototype, \"length\", {\r\n        get: function () {\r\n            return this._store.size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MemoryStorage.prototype.clear = function () {\r\n        this._store.clear();\r\n    };\r\n    MemoryStorage.prototype.getItem = function (key) {\r\n        return this._store.get(key);\r\n    };\r\n    MemoryStorage.prototype.key = function (index) {\r\n        return Array.from(this._store)[index][0];\r\n    };\r\n    MemoryStorage.prototype.removeItem = function (key) {\r\n        this._store.delete(key);\r\n    };\r\n    MemoryStorage.prototype.setItem = function (key, data) {\r\n        this._store.set(key, data);\r\n    };\r\n    return MemoryStorage;\r\n}());\r\n/**\r\n * A class that will establish wrappers for both local and session storage\r\n */\r\nvar PnPClientStorage = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the PnPClientStorage class\r\n     *\r\n     * @constructor\r\n     */\r\n    function PnPClientStorage(_local, _session) {\r\n        if (_local === void 0) { _local = null; }\r\n        if (_session === void 0) { _session = null; }\r\n        this._local = _local;\r\n        this._session = _session;\r\n    }\r\n    Object.defineProperty(PnPClientStorage.prototype, \"local\", {\r\n        /**\r\n         * Provides access to the local storage of the browser\r\n         */\r\n        get: function () {\r\n            if (this._local === null) {\r\n                this._local = this.getStore(\"local\");\r\n            }\r\n            return this._local;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PnPClientStorage.prototype, \"session\", {\r\n        /**\r\n         * Provides access to the session storage of the browser\r\n         */\r\n        get: function () {\r\n            if (this._session === null) {\r\n                this._session = this.getStore(\"session\");\r\n            }\r\n            return this._session;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PnPClientStorage.prototype.getStore = function (name) {\r\n        if (name === \"local\") {\r\n            return new PnPClientStorageWrapper(typeof (localStorage) === \"undefined\" ? new MemoryStorage() : localStorage);\r\n        }\r\n        return new PnPClientStorageWrapper(typeof (sessionStorage) === \"undefined\" ? new MemoryStorage() : sessionStorage);\r\n    };\r\n    return PnPClientStorage;\r\n}());\r\nexport { PnPClientStorage };\r\n//# sourceMappingURL=storage.js.map","import { RuntimeConfig, dateAdd, PnPClientStorage } from \"@pnp/common\";\r\nvar CachingOptions = /** @class */ (function () {\r\n    function CachingOptions(key) {\r\n        this.key = key;\r\n        this.expiration = dateAdd(new Date(), \"second\", RuntimeConfig.defaultCachingTimeoutSeconds);\r\n        this.storeName = RuntimeConfig.defaultCachingStore;\r\n    }\r\n    Object.defineProperty(CachingOptions.prototype, \"store\", {\r\n        get: function () {\r\n            if (this.storeName === \"local\") {\r\n                return CachingOptions.storage.local;\r\n            }\r\n            else {\r\n                return CachingOptions.storage.session;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CachingOptions.storage = new PnPClientStorage();\r\n    return CachingOptions;\r\n}());\r\nexport { CachingOptions };\r\nvar CachingParserWrapper = /** @class */ (function () {\r\n    function CachingParserWrapper(parser, cacheOptions) {\r\n        this.parser = parser;\r\n        this.cacheOptions = cacheOptions;\r\n    }\r\n    CachingParserWrapper.prototype.parse = function (response) {\r\n        var _this = this;\r\n        return this.parser.parse(response).then(function (r) { return _this.cacheData(r); });\r\n    };\r\n    CachingParserWrapper.prototype.cacheData = function (data) {\r\n        if (this.cacheOptions.store !== null) {\r\n            this.cacheOptions.store.put(this.cacheOptions.key, data, this.cacheOptions.expiration);\r\n        }\r\n        return data;\r\n    };\r\n    return CachingParserWrapper;\r\n}());\r\nexport { CachingParserWrapper };\r\n//# sourceMappingURL=caching.js.map","import * as tslib_1 from \"tslib\";\r\nimport { isFunc, hOP } from \"@pnp/common\";\r\nvar HttpRequestError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(HttpRequestError, _super);\r\n    function HttpRequestError(message, response, status, statusText) {\r\n        if (status === void 0) { status = response.status; }\r\n        if (statusText === void 0) { statusText = response.statusText; }\r\n        var _this = _super.call(this, message) || this;\r\n        _this.response = response;\r\n        _this.status = status;\r\n        _this.statusText = statusText;\r\n        _this.isHttpRequestError = true;\r\n        return _this;\r\n    }\r\n    HttpRequestError.init = function (r) {\r\n        return r.clone().text().then(function (t) {\r\n            return new HttpRequestError(\"Error making HttpClient request in queryable [\" + r.status + \"] \" + r.statusText + \" ::> \" + t, r.clone());\r\n        });\r\n    };\r\n    return HttpRequestError;\r\n}(Error));\r\nexport { HttpRequestError };\r\nvar ODataParserBase = /** @class */ (function () {\r\n    function ODataParserBase() {\r\n        this.rawJson = {};\r\n    }\r\n    ODataParserBase.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                _this.parseImpl(r, resolve, reject);\r\n            }\r\n        });\r\n    };\r\n    ODataParserBase.prototype.parseImpl = function (r, resolve, reject) {\r\n        var _this = this;\r\n        if ((r.headers.has(\"Content-Length\") && parseFloat(r.headers.get(\"Content-Length\")) === 0) || r.status === 204) {\r\n            resolve({});\r\n        }\r\n        else {\r\n            // patch to handle cases of 200 response with no or whitespace only bodies (#487 & #545)\r\n            r.text()\r\n                .then(function (txt) { return txt.replace(/\\s/ig, \"\").length > 0 ? JSON.parse(txt) : {}; })\r\n                .then(function (json) { return resolve(_this.parseODataJSON(json)); })\r\n                .catch(function (e) { return reject(e); });\r\n        }\r\n    };\r\n    /**\r\n     * Handles a response with ok === false by parsing the body and creating a ProcessHttpClientResponseException\r\n     * which is passed to the reject delegate. This method returns true if there is no error, otherwise false\r\n     *\r\n     * @param r Current response object\r\n     * @param reject reject delegate for the surrounding promise\r\n     */\r\n    ODataParserBase.prototype.handleError = function (r, reject) {\r\n        if (!r.ok) {\r\n            HttpRequestError.init(r).then(reject);\r\n        }\r\n        return r.ok;\r\n    };\r\n    /**\r\n     * Normalizes the json response by removing the various nested levels\r\n     *\r\n     * @param json json object to parse\r\n     */\r\n    ODataParserBase.prototype.parseODataJSON = function (json) {\r\n        this.rawJson = json;\r\n        var result = json;\r\n        if (hOP(json, \"d\")) {\r\n            if (hOP(json.d, \"results\")) {\r\n                result = json.d.results;\r\n            }\r\n            else {\r\n                result = json.d;\r\n            }\r\n        }\r\n        else if (hOP(json, \"value\")) {\r\n            result = json.value;\r\n        }\r\n        return result;\r\n    };\r\n    return ODataParserBase;\r\n}());\r\nexport { ODataParserBase };\r\nvar ODataDefaultParser = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ODataDefaultParser, _super);\r\n    function ODataDefaultParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ODataDefaultParser;\r\n}(ODataParserBase));\r\nexport { ODataDefaultParser };\r\nvar TextParser = /** @class */ (function (_super) {\r\n    tslib_1.__extends(TextParser, _super);\r\n    function TextParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TextParser.prototype.parseImpl = function (r, resolve) {\r\n        r.text().then(resolve);\r\n    };\r\n    return TextParser;\r\n}(ODataParserBase));\r\nexport { TextParser };\r\nvar BlobParser = /** @class */ (function (_super) {\r\n    tslib_1.__extends(BlobParser, _super);\r\n    function BlobParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BlobParser.prototype.parseImpl = function (r, resolve) {\r\n        r.blob().then(resolve);\r\n    };\r\n    return BlobParser;\r\n}(ODataParserBase));\r\nexport { BlobParser };\r\nvar JSONParser = /** @class */ (function (_super) {\r\n    tslib_1.__extends(JSONParser, _super);\r\n    function JSONParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    JSONParser.prototype.parseImpl = function (r, resolve) {\r\n        r.json().then(resolve);\r\n    };\r\n    return JSONParser;\r\n}(ODataParserBase));\r\nexport { JSONParser };\r\nvar BufferParser = /** @class */ (function (_super) {\r\n    tslib_1.__extends(BufferParser, _super);\r\n    function BufferParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BufferParser.prototype.parseImpl = function (r, resolve) {\r\n        if (isFunc(r.arrayBuffer)) {\r\n            r.arrayBuffer().then(resolve);\r\n        }\r\n        else {\r\n            r.buffer().then(resolve);\r\n        }\r\n    };\r\n    return BufferParser;\r\n}(ODataParserBase));\r\nexport { BufferParser };\r\nvar LambdaParser = /** @class */ (function (_super) {\r\n    tslib_1.__extends(LambdaParser, _super);\r\n    function LambdaParser(parser) {\r\n        var _this = _super.call(this) || this;\r\n        _this.parser = parser;\r\n        return _this;\r\n    }\r\n    LambdaParser.prototype.parseImpl = function (r, resolve) {\r\n        this.parser(r).then(resolve);\r\n    };\r\n    return LambdaParser;\r\n}(ODataParserBase));\r\nexport { LambdaParser };\r\n//# sourceMappingURL=parsers.js.map","/**\r\n * Class used to subscribe ILogListener and log messages throughout an application\r\n *\r\n */\r\nvar Logger = /** @class */ (function () {\r\n    function Logger() {\r\n    }\r\n    Object.defineProperty(Logger, \"activeLogLevel\", {\r\n        /**\r\n         * Gets or sets the active log level to apply for log filtering\r\n         */\r\n        get: function () {\r\n            return Logger.instance.activeLogLevel;\r\n        },\r\n        set: function (value) {\r\n            Logger.instance.activeLogLevel = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger, \"instance\", {\r\n        get: function () {\r\n            if (Logger._instance === undefined || Logger._instance === null) {\r\n                Logger._instance = new LoggerImpl();\r\n            }\r\n            return Logger._instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds ILogListener instances to the set of subscribed listeners\r\n     *\r\n     * @param listeners One or more listeners to subscribe to this log\r\n     */\r\n    Logger.subscribe = function () {\r\n        var listeners = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            listeners[_i] = arguments[_i];\r\n        }\r\n        listeners.map(function (listener) { return Logger.instance.subscribe(listener); });\r\n    };\r\n    /**\r\n     * Clears the subscribers collection, returning the collection before modifiction\r\n     */\r\n    Logger.clearSubscribers = function () {\r\n        return Logger.instance.clearSubscribers();\r\n    };\r\n    Object.defineProperty(Logger, \"count\", {\r\n        /**\r\n         * Gets the current subscriber count\r\n         */\r\n        get: function () {\r\n            return Logger.instance.count;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Writes the supplied string to the subscribed listeners\r\n     *\r\n     * @param message The message to write\r\n     * @param level [Optional] if supplied will be used as the level of the entry (Default: LogLevel.Info)\r\n     */\r\n    Logger.write = function (message, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        Logger.instance.log({ level: level, message: message });\r\n    };\r\n    /**\r\n     * Writes the supplied string to the subscribed listeners\r\n     *\r\n     * @param json The json object to stringify and write\r\n     * @param level [Optional] if supplied will be used as the level of the entry (Default: LogLevel.Info)\r\n     */\r\n    Logger.writeJSON = function (json, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        this.write(JSON.stringify(json), level);\r\n    };\r\n    /**\r\n     * Logs the supplied entry to the subscribed listeners\r\n     *\r\n     * @param entry The message to log\r\n     */\r\n    Logger.log = function (entry) {\r\n        Logger.instance.log(entry);\r\n    };\r\n    /**\r\n     * Logs an error object to the subscribed listeners\r\n     *\r\n     * @param err The error object\r\n     */\r\n    Logger.error = function (err) {\r\n        Logger.instance.log({ data: err, level: 3 /* Error */, message: err.message });\r\n    };\r\n    return Logger;\r\n}());\r\nexport { Logger };\r\nvar LoggerImpl = /** @class */ (function () {\r\n    function LoggerImpl(activeLogLevel, subscribers) {\r\n        if (activeLogLevel === void 0) { activeLogLevel = 2 /* Warning */; }\r\n        if (subscribers === void 0) { subscribers = []; }\r\n        this.activeLogLevel = activeLogLevel;\r\n        this.subscribers = subscribers;\r\n    }\r\n    LoggerImpl.prototype.subscribe = function (listener) {\r\n        this.subscribers.push(listener);\r\n    };\r\n    LoggerImpl.prototype.clearSubscribers = function () {\r\n        var s = this.subscribers.slice(0);\r\n        this.subscribers.length = 0;\r\n        return s;\r\n    };\r\n    Object.defineProperty(LoggerImpl.prototype, \"count\", {\r\n        get: function () {\r\n            return this.subscribers.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LoggerImpl.prototype.write = function (message, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        this.log({ level: level, message: message });\r\n    };\r\n    LoggerImpl.prototype.log = function (entry) {\r\n        if (entry !== undefined && this.activeLogLevel <= entry.level) {\r\n            this.subscribers.map(function (subscriber) { return subscriber.log(entry); });\r\n        }\r\n    };\r\n    return LoggerImpl;\r\n}());\r\n//# sourceMappingURL=logger.js.map","/**\r\n * Implementation of LogListener which logs to the console\r\n *\r\n */\r\nvar ConsoleListener = /** @class */ (function () {\r\n    function ConsoleListener() {\r\n    }\r\n    /**\r\n     * Any associated data that a given logging listener may choose to log or ignore\r\n     *\r\n     * @param entry The information to be logged\r\n     */\r\n    ConsoleListener.prototype.log = function (entry) {\r\n        var msg = this.format(entry);\r\n        switch (entry.level) {\r\n            case 0 /* Verbose */:\r\n            case 1 /* Info */:\r\n                console.log(msg);\r\n                break;\r\n            case 2 /* Warning */:\r\n                console.warn(msg);\r\n                break;\r\n            case 3 /* Error */:\r\n                console.error(msg);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Formats the message\r\n     *\r\n     * @param entry The information to format into a string\r\n     */\r\n    ConsoleListener.prototype.format = function (entry) {\r\n        var msg = [];\r\n        msg.push(\"Message: \" + entry.message);\r\n        if (entry.data !== undefined) {\r\n            try {\r\n                msg.push(\" Data: \" + JSON.stringify(entry.data));\r\n            }\r\n            catch (e) {\r\n                msg.push(\" Data: Error in stringify of supplied data \" + e);\r\n            }\r\n        }\r\n        return msg.join(\"\");\r\n    };\r\n    return ConsoleListener;\r\n}());\r\nexport { ConsoleListener };\r\n/**\r\n * Implementation of LogListener which logs to the supplied function\r\n *\r\n */\r\nvar FunctionListener = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the FunctionListener class\r\n     *\r\n     * @constructor\r\n     * @param  method The method to which any logging data will be passed\r\n     */\r\n    function FunctionListener(method) {\r\n        this.method = method;\r\n    }\r\n    /**\r\n     * Any associated data that a given logging listener may choose to log or ignore\r\n     *\r\n     * @param entry The information to be logged\r\n     */\r\n    FunctionListener.prototype.log = function (entry) {\r\n        this.method(entry);\r\n    };\r\n    return FunctionListener;\r\n}());\r\nexport { FunctionListener };\r\n//# sourceMappingURL=listeners.js.map","import * as tslib_1 from \"tslib\";\r\nimport { extend, isFunc, hOP } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { CachingOptions, CachingParserWrapper } from \"./caching\";\r\n/**\r\n * Resolves the context's result value\r\n *\r\n * @param context The current context\r\n */\r\nfunction returnResult(context) {\r\n    Logger.log({\r\n        data: Logger.activeLogLevel === 0 /* Verbose */ ? context.result : {},\r\n        level: 1 /* Info */,\r\n        message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Returning result from pipeline. Set logging to verbose to see data.\",\r\n    });\r\n    return Promise.resolve(context.result);\r\n}\r\n/**\r\n * Sets the result on the context\r\n */\r\nexport function setResult(context, value) {\r\n    return new Promise(function (resolve) {\r\n        context.result = value;\r\n        context.hasResult = true;\r\n        resolve(context);\r\n    });\r\n}\r\n/**\r\n * Invokes the next method in the provided context's pipeline\r\n *\r\n * @param c The current request context\r\n */\r\nfunction next(c) {\r\n    if (c.pipeline.length > 0) {\r\n        return c.pipeline.shift()(c);\r\n    }\r\n    else {\r\n        return Promise.resolve(c);\r\n    }\r\n}\r\n/**\r\n * Executes the current request context's pipeline\r\n *\r\n * @param context Current context\r\n */\r\nexport function pipe(context) {\r\n    if (context.pipeline.length < 1) {\r\n        Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Request pipeline contains no methods!\", 2 /* Warning */);\r\n    }\r\n    var promise = next(context).then(function (ctx) { return returnResult(ctx); }).catch(function (e) {\r\n        Logger.error(e);\r\n        throw e;\r\n    });\r\n    if (context.isBatched) {\r\n        // this will block the batch's execute method from returning until the child requets have been resolved\r\n        context.batch.addResolveBatchDependency(promise);\r\n    }\r\n    return promise;\r\n}\r\n/**\r\n * decorator factory applied to methods in the pipeline to control behavior\r\n */\r\nexport function requestPipelineMethod(alwaysRun) {\r\n    if (alwaysRun === void 0) { alwaysRun = false; }\r\n    return function (target, propertyKey, descriptor) {\r\n        var method = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            // if we have a result already in the pipeline, pass it along and don't call the tagged method\r\n            if (!alwaysRun && args.length > 0 && hOP(args[0], \"hasResult\") && args[0].hasResult) {\r\n                Logger.write(\"[\" + args[0].requestId + \"] (\" + (new Date()).getTime() + \") Skipping request pipeline method \" + propertyKey + \", existing result in pipeline.\", 0 /* Verbose */);\r\n                return Promise.resolve(args[0]);\r\n            }\r\n            // apply the tagged method\r\n            Logger.write(\"[\" + args[0].requestId + \"] (\" + (new Date()).getTime() + \") Calling request pipeline method \" + propertyKey + \".\", 0 /* Verbose */);\r\n            // then chain the next method in the context's pipeline - allows for dynamic pipeline\r\n            return method.apply(target, args).then(function (ctx) { return next(ctx); });\r\n        };\r\n    };\r\n}\r\n/**\r\n * Contains the methods used within the request pipeline\r\n */\r\nvar PipelineMethods = /** @class */ (function () {\r\n    function PipelineMethods() {\r\n    }\r\n    /**\r\n     * Logs the start of the request\r\n     */\r\n    PipelineMethods.logStart = function (context) {\r\n        return new Promise(function (resolve) {\r\n            Logger.log({\r\n                data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                level: 1 /* Info */,\r\n                message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Beginning \" + context.verb + \" request (\" + context.requestAbsoluteUrl + \")\",\r\n            });\r\n            resolve(context);\r\n        });\r\n    };\r\n    /**\r\n     * Handles caching of the request\r\n     */\r\n    PipelineMethods.caching = function (context) {\r\n        return new Promise(function (resolve) {\r\n            // handle caching, if applicable\r\n            if (context.isCached) {\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Caching is enabled for request, checking cache...\", 1 /* Info */);\r\n                var cacheOptions = new CachingOptions(context.requestAbsoluteUrl.toLowerCase());\r\n                if (context.cachingOptions !== undefined) {\r\n                    cacheOptions = extend(cacheOptions, context.cachingOptions);\r\n                }\r\n                // we may not have a valid store\r\n                if (cacheOptions.store !== null) {\r\n                    // check if we have the data in cache and if so resolve the promise and return\r\n                    var data = cacheOptions.store.get(cacheOptions.key);\r\n                    if (data !== null) {\r\n                        // ensure we clear any held batch dependency we are resolving from the cache\r\n                        Logger.log({\r\n                            data: Logger.activeLogLevel === 1 /* Info */ ? {} : data,\r\n                            level: 1 /* Info */,\r\n                            message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Value returned from cache.\",\r\n                        });\r\n                        if (isFunc(context.batchDependency)) {\r\n                            context.batchDependency();\r\n                        }\r\n                        // handle the case where a parser needs to take special actions with a cached result\r\n                        if (hOP(context.parser, \"hydrate\")) {\r\n                            data = context.parser.hydrate(data);\r\n                        }\r\n                        return setResult(context, data).then(function (ctx) { return resolve(ctx); });\r\n                    }\r\n                }\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Value not found in cache.\", 1 /* Info */);\r\n                // if we don't then wrap the supplied parser in the caching parser wrapper\r\n                // and send things on their way\r\n                context.parser = new CachingParserWrapper(context.parser, cacheOptions);\r\n            }\r\n            return resolve(context);\r\n        });\r\n    };\r\n    /**\r\n     * Sends the request\r\n     */\r\n    PipelineMethods.send = function (context) {\r\n        return new Promise(function (resolve, reject) {\r\n            // send or batch the request\r\n            if (context.isBatched) {\r\n                // we are in a batch, so add to batch, remove dependency, and resolve with the batch's promise\r\n                var p = context.batch.add(context.requestAbsoluteUrl, context.verb, context.options, context.parser, context.requestId);\r\n                // we release the dependency here to ensure the batch does not execute until the request is added to the batch\r\n                if (isFunc(context.batchDependency)) {\r\n                    context.batchDependency();\r\n                }\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Batching request in batch \" + context.batch.batchId + \".\", 1 /* Info */);\r\n                // we set the result as the promise which will be resolved by the batch's execution\r\n                resolve(setResult(context, p));\r\n            }\r\n            else {\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Sending request.\", 1 /* Info */);\r\n                // we are not part of a batch, so proceed as normal\r\n                var client = context.clientFactory();\r\n                var opts = extend(context.options || {}, { method: context.verb });\r\n                client.fetch(context.requestAbsoluteUrl, opts)\r\n                    .then(function (response) { return context.parser.parse(response); })\r\n                    .then(function (result) { return setResult(context, result); })\r\n                    .then(function (ctx) { return resolve(ctx); })\r\n                    .catch(function (e) { return reject(e); });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Logs the end of the request\r\n     */\r\n    PipelineMethods.logEnd = function (context) {\r\n        return new Promise(function (resolve) {\r\n            if (context.isBatched) {\r\n                Logger.log({\r\n                    data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                    level: 1 /* Info */,\r\n                    message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") \" + context.verb + \" request will complete in batch \" + context.batch.batchId + \".\",\r\n                });\r\n            }\r\n            else {\r\n                Logger.log({\r\n                    data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                    level: 1 /* Info */,\r\n                    message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Completing \" + context.verb + \" request.\",\r\n                });\r\n            }\r\n            resolve(context);\r\n        });\r\n    };\r\n    tslib_1.__decorate([\r\n        requestPipelineMethod(true)\r\n    ], PipelineMethods, \"logStart\", null);\r\n    tslib_1.__decorate([\r\n        requestPipelineMethod()\r\n    ], PipelineMethods, \"caching\", null);\r\n    tslib_1.__decorate([\r\n        requestPipelineMethod()\r\n    ], PipelineMethods, \"send\", null);\r\n    tslib_1.__decorate([\r\n        requestPipelineMethod(true)\r\n    ], PipelineMethods, \"logEnd\", null);\r\n    return PipelineMethods;\r\n}());\r\nexport { PipelineMethods };\r\nexport function getDefaultPipeline() {\r\n    return [\r\n        PipelineMethods.logStart,\r\n        PipelineMethods.caching,\r\n        PipelineMethods.send,\r\n        PipelineMethods.logEnd,\r\n    ].slice(0);\r\n}\r\n//# sourceMappingURL=pipeline.js.map","import * as tslib_1 from \"tslib\";\r\nimport { combine, RuntimeConfig, mergeOptions, objectDefinedNotNull, isArray, } from \"@pnp/common\";\r\nimport { ODataDefaultParser, JSONParser } from \"./parsers\";\r\nimport { getDefaultPipeline, pipe, } from \"./pipeline\";\r\nvar Queryable = /** @class */ (function () {\r\n    function Queryable() {\r\n        this._query = new Map();\r\n        this._options = {};\r\n        this._url = \"\";\r\n        this._parentUrl = \"\";\r\n        this._useCaching = false;\r\n        this._cachingOptions = null;\r\n        this._cloneParentWasCaching = false;\r\n        this._cloneParentCacheOptions = null;\r\n        this._requestPipeline = null;\r\n    }\r\n    /**\r\n    * Gets the currentl url\r\n    *\r\n    */\r\n    Queryable.prototype.toUrl = function () {\r\n        return this._url;\r\n    };\r\n    /**\r\n     * Directly concatonates the supplied string to the current url, not normalizing \"/\" chars\r\n     *\r\n     * @param pathPart The string to concatonate to the url\r\n     */\r\n    Queryable.prototype.concat = function (pathPart) {\r\n        this._url += pathPart;\r\n        return this;\r\n    };\r\n    Object.defineProperty(Queryable.prototype, \"query\", {\r\n        /**\r\n         * Provides access to the query builder for this url\r\n         *\r\n         */\r\n        get: function () {\r\n            return this._query;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets custom options for current object and all derived objects accessible via chaining\r\n     *\r\n     * @param options custom options\r\n     */\r\n    Queryable.prototype.configure = function (options) {\r\n        mergeOptions(this._options, options);\r\n        return this;\r\n    };\r\n    /**\r\n     * Configures this instance from the configure options of the supplied instance\r\n     *\r\n     * @param o Instance from which options should be taken\r\n     */\r\n    Queryable.prototype.configureFrom = function (o) {\r\n        mergeOptions(this._options, o._options);\r\n        return this;\r\n    };\r\n    /**\r\n     * Enables caching for this request\r\n     *\r\n     * @param options Defines the options used when caching this request\r\n     */\r\n    Queryable.prototype.usingCaching = function (options) {\r\n        if (!RuntimeConfig.globalCacheDisable) {\r\n            this._useCaching = true;\r\n            if (options !== undefined) {\r\n                this._cachingOptions = options;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Allows you to set a request specific processing pipeline\r\n     *\r\n     * @param pipeline The set of methods, in order, to execute a given request\r\n     */\r\n    Queryable.prototype.withPipeline = function (pipeline) {\r\n        this._requestPipeline = pipeline.slice(0);\r\n        return this;\r\n    };\r\n    Queryable.prototype.getCore = function (parser, options) {\r\n        if (parser === void 0) { parser = new JSONParser(); }\r\n        if (options === void 0) { options = {}; }\r\n        // Fix for #304 - when we clone objects we in some cases then execute a get request\r\n        // in these cases the caching settings were getting dropped from the request\r\n        // this tracks if the object from which this was cloned was caching and applies that to an immediate get request\r\n        // does not affect objects cloned from this as we are using different fields to track the settings so it won't\r\n        // be triggered\r\n        if (this._cloneParentWasCaching) {\r\n            this.usingCaching(this._cloneParentCacheOptions);\r\n        }\r\n        return this.reqImpl(\"GET\", options, parser);\r\n    };\r\n    Queryable.prototype.postCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new JSONParser(); }\r\n        return this.reqImpl(\"POST\", options, parser);\r\n    };\r\n    Queryable.prototype.patchCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new JSONParser(); }\r\n        return this.reqImpl(\"PATCH\", options, parser);\r\n    };\r\n    Queryable.prototype.deleteCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new JSONParser(); }\r\n        return this.reqImpl(\"DELETE\", options, parser);\r\n    };\r\n    Queryable.prototype.putCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new JSONParser(); }\r\n        return this.reqImpl(\"PUT\", options, parser);\r\n    };\r\n    Queryable.prototype.reqImpl = function (method, options, parser) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        return this.getRequestPipeline(method, options, parser)\r\n            .then(function (pipeline) { return _this.toRequestContext(method, options, parser, pipeline); })\r\n            .then(function (context) { return pipe(context); });\r\n    };\r\n    /**\r\n     * Appends the given string and normalizes \"/\" chars\r\n     *\r\n     * @param pathPart The string to append\r\n     */\r\n    Queryable.prototype.append = function (pathPart) {\r\n        this._url = combine(this._url, pathPart);\r\n    };\r\n    Object.defineProperty(Queryable.prototype, \"parentUrl\", {\r\n        /**\r\n         * Gets the parent url used when creating this instance\r\n         *\r\n         */\r\n        get: function () {\r\n            return this._parentUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Extends this queryable from the provided parent\r\n     *\r\n     * @param parent Parent queryable from which we will derive a base url\r\n     * @param path Additional path\r\n     */\r\n    Queryable.prototype.extend = function (parent, path) {\r\n        this._parentUrl = parent._url;\r\n        this._url = combine(this._parentUrl, path || \"\");\r\n        this.configureFrom(parent);\r\n    };\r\n    /**\r\n     * Configures a cloned object from this instance\r\n     *\r\n     * @param clone\r\n     */\r\n    Queryable.prototype._clone = function (clone, _0) {\r\n        clone.configureFrom(this);\r\n        if (this._useCaching) {\r\n            clone._cloneParentWasCaching = true;\r\n            clone._cloneParentCacheOptions = this._cachingOptions;\r\n        }\r\n        return clone;\r\n    };\r\n    /**\r\n     * Handles getting the request pipeline to run for a given request\r\n     */\r\n    // @ts-ignore\r\n    // justified because we want to show that all these arguments are passed to the method so folks inheriting and potentially overriding\r\n    // clearly see how the method is invoked inside the class\r\n    Queryable.prototype.getRequestPipeline = function (method, options, parser) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        return new Promise(function (resolve) {\r\n            if (objectDefinedNotNull(_this._requestPipeline) && isArray(_this._requestPipeline)) {\r\n                resolve(_this._requestPipeline);\r\n            }\r\n            else {\r\n                resolve(getDefaultPipeline());\r\n            }\r\n        });\r\n    };\r\n    return Queryable;\r\n}());\r\nexport { Queryable };\r\nvar ODataQueryable = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ODataQueryable, _super);\r\n    function ODataQueryable() {\r\n        var _this = _super.call(this) || this;\r\n        _this._batch = null;\r\n        _this._batchDependency = null;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Adds this query to the supplied batch\r\n     *\r\n     * @example\r\n     * ```\r\n     *\r\n     * let b = pnp.sp.createBatch();\r\n     * pnp.sp.web.inBatch(b).get().then(...);\r\n     * b.execute().then(...)\r\n     * ```\r\n     */\r\n    ODataQueryable.prototype.inBatch = function (batch) {\r\n        if (this.batch !== null) {\r\n            throw Error(\"This query is already part of a batch.\");\r\n        }\r\n        if (objectDefinedNotNull(batch)) {\r\n            this._batch = batch;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets the currentl url\r\n     *\r\n     */\r\n    ODataQueryable.prototype.toUrl = function () {\r\n        return this._url;\r\n    };\r\n    /**\r\n     * Executes the currently built request\r\n     *\r\n     * @param parser Allows you to specify a parser to handle the result\r\n     * @param getOptions The options used for this request\r\n     */\r\n    ODataQueryable.prototype.get = function (parser, options) {\r\n        if (parser === void 0) { parser = new ODataDefaultParser(); }\r\n        if (options === void 0) { options = {}; }\r\n        return this.getCore(parser, options);\r\n    };\r\n    ODataQueryable.prototype.getCore = function (parser, options) {\r\n        if (parser === void 0) { parser = new ODataDefaultParser(); }\r\n        if (options === void 0) { options = {}; }\r\n        return _super.prototype.getCore.call(this, parser, options);\r\n    };\r\n    ODataQueryable.prototype.postCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new ODataDefaultParser(); }\r\n        return _super.prototype.postCore.call(this, options, parser);\r\n    };\r\n    ODataQueryable.prototype.patchCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new ODataDefaultParser(); }\r\n        return _super.prototype.patchCore.call(this, options, parser);\r\n    };\r\n    ODataQueryable.prototype.deleteCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new ODataDefaultParser(); }\r\n        return _super.prototype.deleteCore.call(this, options, parser);\r\n    };\r\n    ODataQueryable.prototype.putCore = function (options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (parser === void 0) { parser = new ODataDefaultParser(); }\r\n        return _super.prototype.putCore.call(this, options, parser);\r\n    };\r\n    ODataQueryable.prototype.reqImpl = function (method, options, parser) {\r\n        if (options === void 0) { options = {}; }\r\n        if (this.hasBatch) {\r\n            this._batchDependency = this.addBatchDependency();\r\n        }\r\n        return _super.prototype.reqImpl.call(this, method, options, parser);\r\n    };\r\n    /**\r\n     * Blocks a batch call from occuring, MUST be cleared by calling the returned function\r\n    */\r\n    ODataQueryable.prototype.addBatchDependency = function () {\r\n        if (this._batch !== null) {\r\n            return this._batch.addDependency();\r\n        }\r\n        return function () { return null; };\r\n    };\r\n    Object.defineProperty(ODataQueryable.prototype, \"hasBatch\", {\r\n        /**\r\n         * Indicates if the current query has a batch associated\r\n         *\r\n         */\r\n        get: function () {\r\n            return objectDefinedNotNull(this._batch);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ODataQueryable.prototype, \"batch\", {\r\n        /**\r\n         * The batch currently associated with this query or null\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.hasBatch ? this._batch : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Configures a cloned object from this instance\r\n     *\r\n     * @param clone\r\n     */\r\n    ODataQueryable.prototype._clone = function (clone, cloneSettings) {\r\n        clone = _super.prototype._clone.call(this, clone, cloneSettings);\r\n        if (cloneSettings.includeBatch) {\r\n            clone = clone.inBatch(this._batch);\r\n        }\r\n        return clone;\r\n    };\r\n    return ODataQueryable;\r\n}(Queryable));\r\nexport { ODataQueryable };\r\n//# sourceMappingURL=queryable.js.map","import { getGUID } from \"@pnp/common\";\r\nvar ODataBatch = /** @class */ (function () {\r\n    function ODataBatch(_batchId) {\r\n        if (_batchId === void 0) { _batchId = getGUID(); }\r\n        this._batchId = _batchId;\r\n        this._reqs = [];\r\n        this._deps = [];\r\n        this._rDeps = [];\r\n    }\r\n    Object.defineProperty(ODataBatch.prototype, \"batchId\", {\r\n        get: function () {\r\n            return this._batchId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ODataBatch.prototype, \"requests\", {\r\n        /**\r\n         * The requests contained in this batch\r\n         */\r\n        get: function () {\r\n            return this._reqs;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     *\r\n     * @param url Request url\r\n     * @param method Request method (GET, POST, etc)\r\n     * @param options Any request options\r\n     * @param parser The parser used to handle the eventual return from the query\r\n     * @param id An identifier used to track a request within a batch\r\n     */\r\n    ODataBatch.prototype.add = function (url, method, options, parser, id) {\r\n        var info = {\r\n            id: id,\r\n            method: method.toUpperCase(),\r\n            options: options,\r\n            parser: parser,\r\n            reject: null,\r\n            resolve: null,\r\n            url: url,\r\n        };\r\n        var p = new Promise(function (resolve, reject) {\r\n            info.resolve = resolve;\r\n            info.reject = reject;\r\n        });\r\n        this._reqs.push(info);\r\n        return p;\r\n    };\r\n    /**\r\n     * Adds a dependency insuring that some set of actions will occur before a batch is processed.\r\n     * MUST be cleared using the returned resolve delegate to allow batches to run\r\n     */\r\n    ODataBatch.prototype.addDependency = function () {\r\n        var resolver = function () { return void (0); };\r\n        this._deps.push(new Promise(function (resolve) {\r\n            resolver = resolve;\r\n        }));\r\n        return resolver;\r\n    };\r\n    /**\r\n     * The batch's execute method will not resolve util any promises added here resolve\r\n     *\r\n     * @param p The dependent promise\r\n     */\r\n    ODataBatch.prototype.addResolveBatchDependency = function (p) {\r\n        this._rDeps.push(p);\r\n    };\r\n    /**\r\n     * Execute the current batch and resolve the associated promises\r\n     *\r\n     * @returns A promise which will be resolved once all of the batch's child promises have resolved\r\n     */\r\n    ODataBatch.prototype.execute = function () {\r\n        var _this = this;\r\n        // we need to check the dependencies twice due to how different engines handle things.\r\n        // We can get a second set of promises added during the first set resolving\r\n        return Promise.all(this._deps)\r\n            .then(function () { return Promise.all(_this._deps); })\r\n            .then(function () { return _this.executeImpl(); })\r\n            .then(function () { return Promise.all(_this._rDeps); })\r\n            .then(function () { return void (0); });\r\n    };\r\n    return ODataBatch;\r\n}());\r\nexport { ODataBatch };\r\n//# sourceMappingURL=odatabatch.js.map","export * from \"./src/odata\";\r\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}